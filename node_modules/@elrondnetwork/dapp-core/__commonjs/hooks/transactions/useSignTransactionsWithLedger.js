"use strict";var Ni=Object.create;var xe=Object.defineProperty,Pi=Object.defineProperties,Ci=Object.getOwnPropertyDescriptor,Ri=Object.getOwnPropertyDescriptors,Fi=Object.getOwnPropertyNames,Ce=Object.getOwnPropertySymbols,Mi=Object.getPrototypeOf,yt=Object.prototype.hasOwnProperty,Mr=Object.prototype.propertyIsEnumerable;var Fr=(e,t,r)=>t in e?xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,w=(e,t)=>{for(var r in t||(t={}))yt.call(t,r)&&Fr(e,r,t[r]);if(Ce)for(var r of Ce(t))Mr.call(t,r)&&Fr(e,r,t[r]);return e},v=(e,t)=>Pi(e,Ri(t));var _r=(e,t)=>{var r={};for(var n in e)yt.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ce)for(var n of Ce(e))t.indexOf(n)<0&&Mr.call(e,n)&&(r[n]=e[n]);return r};var x=(e,t)=>()=>(e&&(t=e(e=0)),t);var Re=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),re=(e,t)=>{for(var r in t)xe(e,r,{get:t[r],enumerable:!0})},Or=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Fi(t))!yt.call(e,i)&&i!==r&&xe(e,i,{get:()=>t[i],enumerable:!(n=Ci(t,i))||n.enumerable});return e};var I=(e,t,r)=>(r=e!=null?Ni(Mi(e)):{},Or(t||!e||!e.__esModule?xe(r,"default",{value:e,enumerable:!0}):r,e)),Se=e=>Or(xe({},"__esModule",{value:!0}),e);var U=(e,t,r)=>new Promise((n,i)=>{var a=d=>{try{m(r.next(d))}catch(g){i(g)}},l=d=>{try{m(r.throw(d))}catch(g){i(g)}},m=d=>d.done?n(d.value):Promise.resolve(d.value).then(a,l);m((r=r.apply(e,t)).next())});var Vr=Re(Fe=>{"use strict";o();Fe.byteLength=Oi;Fe.toByteArray=Ui;Fe.fromByteArray=Wi;var V=[],_=[],_i=typeof Uint8Array!="undefined"?Uint8Array:Array,ht="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ne=0,Br=ht.length;ne<Br;++ne)V[ne]=ht[ne],_[ht.charCodeAt(ne)]=ne;var ne,Br;_["-".charCodeAt(0)]=62;_["_".charCodeAt(0)]=63;function Ur(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function Oi(e){var t=Ur(e),r=t[0],n=t[1];return(r+n)*3/4-n}function Bi(e,t,r){return(t+r)*3/4-r}function Ui(e){var t,r=Ur(e),n=r[0],i=r[1],a=new _i(Bi(e,n,i)),l=0,m=i>0?n-4:n,d;for(d=0;d<m;d+=4)t=_[e.charCodeAt(d)]<<18|_[e.charCodeAt(d+1)]<<12|_[e.charCodeAt(d+2)]<<6|_[e.charCodeAt(d+3)],a[l++]=t>>16&255,a[l++]=t>>8&255,a[l++]=t&255;return i===2&&(t=_[e.charCodeAt(d)]<<2|_[e.charCodeAt(d+1)]>>4,a[l++]=t&255),i===1&&(t=_[e.charCodeAt(d)]<<10|_[e.charCodeAt(d+1)]<<4|_[e.charCodeAt(d+2)]>>2,a[l++]=t>>8&255,a[l++]=t&255),a}function Vi(e){return V[e>>18&63]+V[e>>12&63]+V[e>>6&63]+V[e&63]}function $i(e,t,r){for(var n,i=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(Vi(n));return i.join("")}function Wi(e){for(var t,r=e.length,n=r%3,i=[],a=16383,l=0,m=r-n;l<m;l+=a)i.push($i(e,l,l+a>m?m:l+a));return n===1?(t=e[r-1],i.push(V[t>>2]+V[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(V[t>>10]+V[t>>4&63]+V[t<<2&63]+"=")),i.join("")}});var $r=Re(xt=>{o();xt.read=function(e,t,r,n,i){var a,l,m=i*8-n-1,d=(1<<m)-1,g=d>>1,T=-7,f=r?i-1:0,S=r?-1:1,y=e[t+f];for(f+=S,a=y&(1<<-T)-1,y>>=-T,T+=m;T>0;a=a*256+e[t+f],f+=S,T-=8);for(l=a&(1<<-T)-1,a>>=-T,T+=n;T>0;l=l*256+e[t+f],f+=S,T-=8);if(a===0)a=1-g;else{if(a===d)return l?NaN:(y?-1:1)*(1/0);l=l+Math.pow(2,n),a=a-g}return(y?-1:1)*l*Math.pow(2,a-n)};xt.write=function(e,t,r,n,i,a){var l,m,d,g=a*8-i-1,T=(1<<g)-1,f=T>>1,S=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:a-1,k=n?1:-1,N=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(m=isNaN(t)?1:0,l=T):(l=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-l))<1&&(l--,d*=2),l+f>=1?t+=S/d:t+=S*Math.pow(2,1-f),t*d>=2&&(l++,d/=2),l+f>=T?(m=0,l=T):l+f>=1?(m=(t*d-1)*Math.pow(2,i),l=l+f):(m=t*Math.pow(2,f-1)*Math.pow(2,i),l=0));i>=8;e[r+y]=m&255,y+=k,m/=256,i-=8);for(l=l<<i|m,g+=i;g>0;e[r+y]=l&255,y+=k,l/=256,g-=8);e[r+y-k]|=N*128}});var en=Re(pe=>{"use strict";o();var St=Vr(),le=$r(),Wr=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;pe.Buffer=u;pe.SlowBuffer=Ki;pe.INSPECT_MAX_BYTES=50;var Me=2147483647;pe.kMaxLength=Me;u.TYPED_ARRAY_SUPPORT=Hi();!u.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Hi(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch(r){return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.buffer}});Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.byteOffset}});function j(e){if(e>Me)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return At(e)}return qr(e,t,r)}u.poolSize=8192;function qr(e,t,r){if(typeof e=="string")return qi(e,t);if(ArrayBuffer.isView(e))return ji(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if($(e,ArrayBuffer)||e&&$(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&($(e,SharedArrayBuffer)||e&&$(e.buffer,SharedArrayBuffer)))return vt(e,t,r);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(n!=null&&n!==e)return u.from(n,t,r);var i=zi(e);if(i)return i;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return u.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}u.from=function(e,t,r){return qr(e,t,r)};Object.setPrototypeOf(u.prototype,Uint8Array.prototype);Object.setPrototypeOf(u,Uint8Array);function jr(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function Gi(e,t,r){return jr(e),e<=0?j(e):t!==void 0?typeof r=="string"?j(e).fill(t,r):j(e).fill(t):j(e)}u.alloc=function(e,t,r){return Gi(e,t,r)};function At(e){return jr(e),j(e<0?0:It(e)|0)}u.allocUnsafe=function(e){return At(e)};u.allocUnsafeSlow=function(e){return At(e)};function qi(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=zr(e,t)|0,n=j(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}function wt(e){for(var t=e.length<0?0:It(e.length)|0,r=j(t),n=0;n<t;n+=1)r[n]=e[n]&255;return r}function ji(e){if($(e,Uint8Array)){var t=new Uint8Array(e);return vt(t.buffer,t.byteOffset,t.byteLength)}return wt(e)}function vt(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return t===void 0&&r===void 0?n=new Uint8Array(e):r===void 0?n=new Uint8Array(e,t):n=new Uint8Array(e,t,r),Object.setPrototypeOf(n,u.prototype),n}function zi(e){if(u.isBuffer(e)){var t=It(e.length)|0,r=j(t);return r.length===0||e.copy(r,0,0,t),r}if(e.length!==void 0)return typeof e.length!="number"||Et(e.length)?j(0):wt(e);if(e.type==="Buffer"&&Array.isArray(e.data))return wt(e.data)}function It(e){if(e>=Me)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Me.toString(16)+" bytes");return e|0}function Ki(e){return+e!=e&&(e=0),u.alloc(+e)}u.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==u.prototype};u.compare=function(t,r){if($(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),$(r,Uint8Array)&&(r=u.from(r,r.offset,r.byteLength)),!u.isBuffer(t)||!u.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===r)return 0;for(var n=t.length,i=r.length,a=0,l=Math.min(n,i);a<l;++a)if(t[a]!==r[a]){n=t[a],i=r[a];break}return n<i?-1:i<n?1:0};u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};u.concat=function(t,r){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return u.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<t.length;++n)r+=t[n].length;var i=u.allocUnsafe(r),a=0;for(n=0;n<t.length;++n){var l=t[n];if($(l,Uint8Array))a+l.length>i.length?u.from(l).copy(i,a):Uint8Array.prototype.set.call(i,l,a);else if(u.isBuffer(l))l.copy(i,a);else throw new TypeError('"list" argument must be an Array of Buffers');a+=l.length}return i};function zr(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||$(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return bt(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Qr(e).length;default:if(i)return n?-1:bt(e).length;t=(""+t).toLowerCase(),i=!0}}u.byteLength=zr;function Yi(e,t,r){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return ia(this,t,r);case"utf8":case"utf-8":return Yr(this,t,r);case"ascii":return na(this,t,r);case"latin1":case"binary":return oa(this,t,r);case"base64":return ta(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return aa(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}u.prototype._isBuffer=!0;function oe(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}u.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)oe(this,r,r+1);return this};u.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)oe(this,r,r+3),oe(this,r+1,r+2);return this};u.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)oe(this,r,r+7),oe(this,r+1,r+6),oe(this,r+2,r+5),oe(this,r+3,r+4);return this};u.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?Yr(this,0,t):Yi.apply(this,arguments)};u.prototype.toLocaleString=u.prototype.toString;u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:u.compare(this,t)===0};u.prototype.inspect=function(){var t="",r=pe.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"};Wr&&(u.prototype[Wr]=u.prototype.inspect);u.prototype.compare=function(t,r,n,i,a){if($(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(r===void 0&&(r=0),n===void 0&&(n=t?t.length:0),i===void 0&&(i=0),a===void 0&&(a=this.length),r<0||n>t.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&r>=n)return 0;if(i>=a)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,a>>>=0,this===t)return 0;for(var l=a-i,m=n-r,d=Math.min(l,m),g=this.slice(i,a),T=t.slice(r,n),f=0;f<d;++f)if(g[f]!==T[f]){l=g[f],m=T[f];break}return l<m?-1:m<l?1:0};function Kr(e,t,r,n,i){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Et(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof t=="string"&&(t=u.from(t,n)),u.isBuffer(t))return t.length===0?-1:Hr(e,t,r,n,i);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):Hr(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Hr(e,t,r,n,i){var a=1,l=e.length,m=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;a=2,l/=2,m/=2,r/=2}function d(y,k){return a===1?y[k]:y.readUInt16BE(k*a)}var g;if(i){var T=-1;for(g=r;g<l;g++)if(d(e,g)===d(t,T===-1?0:g-T)){if(T===-1&&(T=g),g-T+1===m)return T*a}else T!==-1&&(g-=g-T),T=-1}else for(r+m>l&&(r=l-m),g=r;g>=0;g--){for(var f=!0,S=0;S<m;S++)if(d(e,g+S)!==d(t,S)){f=!1;break}if(f)return g}return-1}u.prototype.includes=function(t,r,n){return this.indexOf(t,r,n)!==-1};u.prototype.indexOf=function(t,r,n){return Kr(this,t,r,n,!0)};u.prototype.lastIndexOf=function(t,r,n){return Kr(this,t,r,n,!1)};function Zi(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var a=t.length;n>a/2&&(n=a/2);for(var l=0;l<n;++l){var m=parseInt(t.substr(l*2,2),16);if(Et(m))return l;e[r+l]=m}return l}function Xi(e,t,r,n){return _e(bt(t,e.length-r),e,r,n)}function Ji(e,t,r,n){return _e(la(t),e,r,n)}function Qi(e,t,r,n){return _e(Qr(t),e,r,n)}function ea(e,t,r,n){return _e(pa(t,e.length-r),e,r,n)}u.prototype.write=function(t,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var a=this.length-r;if((n===void 0||n>a)&&(n=a),t.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var l=!1;;)switch(i){case"hex":return Zi(this,t,r,n);case"utf8":case"utf-8":return Xi(this,t,r,n);case"ascii":case"latin1":case"binary":return Ji(this,t,r,n);case"base64":return Qi(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ea(this,t,r,n);default:if(l)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),l=!0}};u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ta(e,t,r){return t===0&&r===e.length?St.fromByteArray(e):St.fromByteArray(e.slice(t,r))}function Yr(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a=e[i],l=null,m=a>239?4:a>223?3:a>191?2:1;if(i+m<=r){var d,g,T,f;switch(m){case 1:a<128&&(l=a);break;case 2:d=e[i+1],(d&192)===128&&(f=(a&31)<<6|d&63,f>127&&(l=f));break;case 3:d=e[i+1],g=e[i+2],(d&192)===128&&(g&192)===128&&(f=(a&15)<<12|(d&63)<<6|g&63,f>2047&&(f<55296||f>57343)&&(l=f));break;case 4:d=e[i+1],g=e[i+2],T=e[i+3],(d&192)===128&&(g&192)===128&&(T&192)===128&&(f=(a&15)<<18|(d&63)<<12|(g&63)<<6|T&63,f>65535&&f<1114112&&(l=f))}}l===null?(l=65533,m=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|l&1023),n.push(l),i+=m}return ra(n)}var Gr=4096;function ra(e){var t=e.length;if(t<=Gr)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=Gr));return r}function na(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]&127);return n}function oa(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function ia(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=ua[e[a]];return i}function aa(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length-1;a+=2)i+=String.fromCharCode(n[a]+n[a+1]*256);return i}u.prototype.slice=function(t,r){var n=this.length;t=~~t,r=r===void 0?n:~~r,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<t&&(r=t);var i=this.subarray(t,r);return Object.setPrototypeOf(i,u.prototype),i};function D(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(t,r,n){t=t>>>0,r=r>>>0,n||D(t,r,this.length);for(var i=this[t],a=1,l=0;++l<r&&(a*=256);)i+=this[t+l]*a;return i};u.prototype.readUintBE=u.prototype.readUIntBE=function(t,r,n){t=t>>>0,r=r>>>0,n||D(t,r,this.length);for(var i=this[t+--r],a=1;r>0&&(a*=256);)i+=this[t+--r]*a;return i};u.prototype.readUint8=u.prototype.readUInt8=function(t,r){return t=t>>>0,r||D(t,1,this.length),this[t]};u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,r){return t=t>>>0,r||D(t,2,this.length),this[t]|this[t+1]<<8};u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,r){return t=t>>>0,r||D(t,2,this.length),this[t]<<8|this[t+1]};u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,r){return t=t>>>0,r||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,r){return t=t>>>0,r||D(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};u.prototype.readIntLE=function(t,r,n){t=t>>>0,r=r>>>0,n||D(t,r,this.length);for(var i=this[t],a=1,l=0;++l<r&&(a*=256);)i+=this[t+l]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*r)),i};u.prototype.readIntBE=function(t,r,n){t=t>>>0,r=r>>>0,n||D(t,r,this.length);for(var i=r,a=1,l=this[t+--i];i>0&&(a*=256);)l+=this[t+--i]*a;return a*=128,l>=a&&(l-=Math.pow(2,8*r)),l};u.prototype.readInt8=function(t,r){return t=t>>>0,r||D(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};u.prototype.readInt16LE=function(t,r){t=t>>>0,r||D(t,2,this.length);var n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};u.prototype.readInt16BE=function(t,r){t=t>>>0,r||D(t,2,this.length);var n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};u.prototype.readInt32LE=function(t,r){return t=t>>>0,r||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};u.prototype.readInt32BE=function(t,r){return t=t>>>0,r||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};u.prototype.readFloatLE=function(t,r){return t=t>>>0,r||D(t,4,this.length),le.read(this,t,!0,23,4)};u.prototype.readFloatBE=function(t,r){return t=t>>>0,r||D(t,4,this.length),le.read(this,t,!1,23,4)};u.prototype.readDoubleLE=function(t,r){return t=t>>>0,r||D(t,8,this.length),le.read(this,t,!0,52,8)};u.prototype.readDoubleBE=function(t,r){return t=t>>>0,r||D(t,8,this.length),le.read(this,t,!1,52,8)};function R(e,t,r,n,i,a){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,r,n,i){if(t=+t,r=r>>>0,n=n>>>0,!i){var a=Math.pow(2,8*n)-1;R(this,t,r,n,a,0)}var l=1,m=0;for(this[r]=t&255;++m<n&&(l*=256);)this[r+m]=t/l&255;return r+n};u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,r,n,i){if(t=+t,r=r>>>0,n=n>>>0,!i){var a=Math.pow(2,8*n)-1;R(this,t,r,n,a,0)}var l=n-1,m=1;for(this[r+l]=t&255;--l>=0&&(m*=256);)this[r+l]=t/m&255;return r+n};u.prototype.writeUint8=u.prototype.writeUInt8=function(t,r,n){return t=+t,r=r>>>0,n||R(this,t,r,1,255,0),this[r]=t&255,r+1};u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,r,n){return t=+t,r=r>>>0,n||R(this,t,r,2,65535,0),this[r]=t&255,this[r+1]=t>>>8,r+2};u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,r,n){return t=+t,r=r>>>0,n||R(this,t,r,2,65535,0),this[r]=t>>>8,this[r+1]=t&255,r+2};u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,r,n){return t=+t,r=r>>>0,n||R(this,t,r,4,4294967295,0),this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=t&255,r+4};u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,r,n){return t=+t,r=r>>>0,n||R(this,t,r,4,4294967295,0),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};u.prototype.writeIntLE=function(t,r,n,i){if(t=+t,r=r>>>0,!i){var a=Math.pow(2,8*n-1);R(this,t,r,n,a-1,-a)}var l=0,m=1,d=0;for(this[r]=t&255;++l<n&&(m*=256);)t<0&&d===0&&this[r+l-1]!==0&&(d=1),this[r+l]=(t/m>>0)-d&255;return r+n};u.prototype.writeIntBE=function(t,r,n,i){if(t=+t,r=r>>>0,!i){var a=Math.pow(2,8*n-1);R(this,t,r,n,a-1,-a)}var l=n-1,m=1,d=0;for(this[r+l]=t&255;--l>=0&&(m*=256);)t<0&&d===0&&this[r+l+1]!==0&&(d=1),this[r+l]=(t/m>>0)-d&255;return r+n};u.prototype.writeInt8=function(t,r,n){return t=+t,r=r>>>0,n||R(this,t,r,1,127,-128),t<0&&(t=255+t+1),this[r]=t&255,r+1};u.prototype.writeInt16LE=function(t,r,n){return t=+t,r=r>>>0,n||R(this,t,r,2,32767,-32768),this[r]=t&255,this[r+1]=t>>>8,r+2};u.prototype.writeInt16BE=function(t,r,n){return t=+t,r=r>>>0,n||R(this,t,r,2,32767,-32768),this[r]=t>>>8,this[r+1]=t&255,r+2};u.prototype.writeInt32LE=function(t,r,n){return t=+t,r=r>>>0,n||R(this,t,r,4,2147483647,-2147483648),this[r]=t&255,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24,r+4};u.prototype.writeInt32BE=function(t,r,n){return t=+t,r=r>>>0,n||R(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};function Zr(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Xr(e,t,r,n,i){return t=+t,r=r>>>0,i||Zr(e,t,r,4,34028234663852886e22,-34028234663852886e22),le.write(e,t,r,n,23,4),r+4}u.prototype.writeFloatLE=function(t,r,n){return Xr(this,t,r,!0,n)};u.prototype.writeFloatBE=function(t,r,n){return Xr(this,t,r,!1,n)};function Jr(e,t,r,n,i){return t=+t,r=r>>>0,i||Zr(e,t,r,8,17976931348623157e292,-17976931348623157e292),le.write(e,t,r,n,52,8),r+8}u.prototype.writeDoubleLE=function(t,r,n){return Jr(this,t,r,!0,n)};u.prototype.writeDoubleBE=function(t,r,n){return Jr(this,t,r,!1,n)};u.prototype.copy=function(t,r,n,i){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=t.length&&(r=t.length),r||(r=0),i>0&&i<n&&(i=n),i===n||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-r<i-n&&(i=t.length-r+n);var a=i-n;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),r),a};u.prototype.fill=function(t,r,n,i){if(typeof t=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!u.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(t.length===1){var a=t.charCodeAt(0);(i==="utf8"&&a<128||i==="latin1")&&(t=a)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);var l;if(typeof t=="number")for(l=r;l<n;++l)this[l]=t;else{var m=u.isBuffer(t)?t:u.from(t,i),d=m.length;if(d===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(l=0;l<n-r;++l)this[l+r]=m[l%d]}return this};var sa=/[^+/0-9A-Za-z-_]/g;function ca(e){if(e=e.split("=")[0],e=e.trim().replace(sa,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function bt(e,t){t=t||1/0;for(var r,n=e.length,i=null,a=[],l=0;l<n;++l){if(r=e.charCodeAt(l),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}else if(l+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return a}function la(e){for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r)&255);return t}function pa(e,t){for(var r,n,i,a=[],l=0;l<e.length&&!((t-=2)<0);++l)r=e.charCodeAt(l),n=r>>8,i=r%256,a.push(i),a.push(n);return a}function Qr(e){return St.toByteArray(ca(e))}function _e(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function $(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function Et(e){return e!==e}var ua=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=r*16,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()});var an=Re(($s,on)=>{o();var b=on.exports={},W,H;function kt(){throw new Error("setTimeout has not been defined")}function Dt(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?W=setTimeout:W=kt}catch(e){W=kt}try{typeof clearTimeout=="function"?H=clearTimeout:H=Dt}catch(e){H=Dt}})();function tn(e){if(W===setTimeout)return setTimeout(e,0);if((W===kt||!W)&&setTimeout)return W=setTimeout,setTimeout(e,0);try{return W(e,0)}catch(t){try{return W.call(null,e,0)}catch(r){return W.call(this,e,0)}}}function da(e){if(H===clearTimeout)return clearTimeout(e);if((H===Dt||!H)&&clearTimeout)return H=clearTimeout,clearTimeout(e);try{return H(e)}catch(t){try{return H.call(null,e)}catch(r){return H.call(this,e)}}}var z=[],ue=!1,ie,Oe=-1;function ma(){!ue||!ie||(ue=!1,ie.length?z=ie.concat(z):Oe=-1,z.length&&rn())}function rn(){if(!ue){var e=tn(ma);ue=!0;for(var t=z.length;t;){for(ie=z,z=[];++Oe<t;)ie&&ie[Oe].run();Oe=-1,t=z.length}ie=null,ue=!1,da(e)}}b.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];z.push(new nn(e,t)),z.length===1&&!ue&&tn(rn)};function nn(e,t){this.fun=e,this.array=t}nn.prototype.run=function(){this.fun.apply(null,this.array)};b.title="browser";b.browser=!0;b.env={};b.argv=[];b.version="";b.versions={};function K(){}b.on=K;b.addListener=K;b.once=K;b.off=K;b.removeListener=K;b.removeAllListeners=K;b.emit=K;b.prependListener=K;b.prependOnceListener=K;b.listeners=function(e){return[]};b.binding=function(e){throw new Error("process.binding is not supported")};b.cwd=function(){return"/"};b.chdir=function(e){throw new Error("process.chdir is not supported")};b.umask=function(){return 0}});var s,c,Ws,o=x(()=>{s=I(en()),c=I(an()),Ws=function(e){function t(){var n=this||self;return delete e.prototype.__magic__,n}if(typeof globalThis=="object")return globalThis;if(this)return t();e.defineProperty(e.prototype,"__magic__",{configurable:!0,get:t});var r=__magic__;return r}(Object)});var Be,Lt=x(()=>{"use strict";o();Be=()=>Date.now()/1e3});var sn=x(()=>{"use strict";o()});var cn=x(()=>{"use strict";o()});var ln=x(()=>{"use strict";o();Lt();sn();cn()});var Pt={};re(Pt,{getItem:()=>fa,localStorageKeys:()=>ae,removeItem:()=>Ta,setItem:()=>ga});var ae,Nt,ga,fa,Ta,we=x(()=>{"use strict";o();ln();ae={loginExpiresAt:"dapp-core-login-expires-at",logoutEvent:"dapp-core-logout-event"},Nt=typeof localStorage!="undefined",ga=({key:e,data:t,expires:r})=>{!Nt||localStorage.setItem(String(e),JSON.stringify({expires:r,data:t}))},fa=e=>{if(!Nt)return;let t=localStorage.getItem(String(e));if(!t)return null;let r=JSON.parse(t);return!r||!r.hasOwnProperty("expires")||!r.hasOwnProperty("data")?null:Be()>=r.expires?(localStorage.removeItem(String(e)),null):r.data},Ta=e=>{!Nt||localStorage.removeItem(String(e))}});var Ct={};re(Ct,{clear:()=>mn,getItem:()=>un,removeItem:()=>dn,setItem:()=>pn,storage:()=>ya});var pn,un,dn,mn,ya,gn=x(()=>{"use strict";o();pn=({key:e,data:t,expires:r})=>{sessionStorage.setItem(String(e),JSON.stringify({expires:r,data:t}))},un=e=>{let t=sessionStorage.getItem(String(e));if(!t)return null;let r=JSON.parse(t);return!r||!r.hasOwnProperty("expires")||!r.hasOwnProperty("data")?null:Date.now()>=r.expires?(sessionStorage.removeItem(String(e)),null):r.data},dn=e=>sessionStorage.removeItem(String(e)),mn=()=>sessionStorage.clear(),ya={setItem:pn,getItem:un,removeItem:dn,clear:mn}});var de,Ue=x(()=>{"use strict";o();we();gn();de={session:Ct,local:Pt}});function ve(){return new Date().setHours(new Date().getHours()+24)}function be(e){de.local.setItem({key:ae.loginExpiresAt,data:e,expires:e})}var Rt=x(()=>{"use strict";o();Ue();we()});var O=x(()=>{"use strict";o()});var fn,Ft=x(()=>{"use strict";o();fn="Transaction canceled"});var Tn=x(()=>{"use strict";o()});var C=x(()=>{"use strict";o()});var yn=x(()=>{"use strict";o()});var hn=x(()=>{"use strict";o()});var xn=x(()=>{"use strict";o()});var Sn=x(()=>{"use strict";o()});var X=x(()=>{"use strict";o();Tn();C();O();yn();hn();xn();Sn()});var Mt,wn,Tc,vn,yc,bn,hc,xc,Sc,An=x(()=>{"use strict";o();X();Mt={devnet:{id:"devnet",chainId:"D",name:"Devnet",egldLabel:"xEGLD",decimals:"18",digits:"4",gasPerDataByte:"1500",walletConnectDeepLink:"https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://maiar.com/",walletConnectBridgeAddresses:["https://bridge.walletconnect.org"],walletConnectV2RelayAddresses:["wss://relay.walletconnect.com"],walletAddress:"https://devnet-wallet.elrond.com",apiAddress:"https://devnet-api.elrond.com",explorerAddress:"http://devnet-explorer.elrond.com",apiTimeout:"4000"},testnet:{id:"testnet",chainId:"T",name:"Testnet",egldLabel:"xEGLD",decimals:"18",digits:"4",gasPerDataByte:"1500",walletConnectDeepLink:"https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://maiar.com/",walletConnectBridgeAddresses:["https://bridge.walletconnect.org"],walletConnectV2RelayAddresses:["wss://relay.walletconnect.com"],walletAddress:"https://testnet-wallet.elrond.com",apiAddress:"https://testnet-api.elrond.com",explorerAddress:"http://testnet-explorer.elrond.com",apiTimeout:"4000"},mainnet:{id:"mainnet",chainId:"1",name:"Mainnet",egldLabel:"xEGLD",decimals:"18",digits:"4",gasPerDataByte:"1500",walletConnectDeepLink:"https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://maiar.com/",walletConnectBridgeAddresses:["https://bridge.walletconnect.org"],walletConnectV2RelayAddresses:["wss://relay.walletconnect.com"],walletAddress:"https://wallet.elrond.com",apiAddress:"https://api.elrond.com",explorerAddress:"https://explorer.elrond.com",apiTimeout:"4000"}},{chainId:wn,egldLabel:Tc}=Mt["devnet"],{chainId:vn,egldLabel:yc}=Mt["testnet"],{chainId:bn,egldLabel:hc}=Mt["mainnet"],xc={["devnet"]:wn,["testnet"]:vn,["mainnet"]:bn},Sc={[wn]:"devnet",[vn]:"testnet",[bn]:"mainnet"}});var _t,Ot=x(()=>{"use strict";o();_t={36864:{code:"codeSuccess",message:"Success"},27013:{code:"ERR_USER_DENIED",message:"Rejected by user"},27904:{code:"ERR_UNKNOWN_INSTRUCTION",message:"Unknown instruction"},28160:{code:"ERR_WRONG_CLA",message:"Wrong CLA"},28161:{code:"ERR_INVALID_ARGUMENTS",message:"Invalid arguments"},28162:{code:"ERR_INVALID_MESSAGE",message:"Invalid message"},28163:{code:"ERR_INVALID_P1",message:"Invalid P1"},28164:{code:"ERR_MESSAGE_TOO_LONG",message:"Message too long"},28165:{code:"ERR_RECEIVER_TOO_LONG",message:"Receiver too long"},28166:{code:"ERR_AMOUNT_TOO_LONG",message:"Amount too long"},28167:{code:"ERR_CONTRACT_DATA_DISABLED",message:"Contract data disabled in app options"},28168:{code:"ERR_MESSAGE_INCOMPLETE",message:"Message incomplete"},28176:{code:"ERR_SIGNATURE_FAILED",message:"Signature failed"},28169:{code:"ERR_WRONG_TX_VERSION",message:"Wrong TX version"},28170:{code:"ERR_NONCE_TOO_LONG",message:"Nonce too long"},28171:{code:"ERR_INVALID_AMOUNT",message:"Invalid amount"},28172:{code:"ERR_INVALID_FEE",message:"Invalid fee"},28173:{code:"ERR_PRETTY_FAILED",message:"Pretty failed"},28174:{code:"ERR_DATA_TOO_LONG",message:"Data too long"},28175:{code:"ERR_WRONG_TX_OPTIONS",message:"Invalid transaction options"},28177:{code:"ERR_SIGN_TX_DEPRECATED",message:"Regular transaction signing is deprecated in this version. Use hash signing."}}});var In=x(()=>{"use strict";o()});var En,Bt=x(()=>{"use strict";o();En="transaction-status-toast-id"});var Ut,Vt,kn,Ve,Dn,me,E=x(()=>{"use strict";o();Ft();An();Ot();In();Bt();Ut=5e4,Vt=1e9,kn=1,Ve="logout",Dn="login",me="0"});var $t,F,$e,J=x(()=>{"use strict";o();$t=require("@reduxjs/toolkit");E();F=(0,$t.createAction)(Ve),$e=(0,$t.createAction)(Dn,e=>({payload:e}))});var Nn,Ln,Pn,Bc,Uc,Vc,$c,Wc,Hc,Cn,Rn,Ht=x(()=>{"use strict";o();Nn=require("@reduxjs/toolkit");Rt();O();J();Ln={loginMethod:"",walletConnectLogin:null,ledgerLogin:null,tokenLogin:null,walletLogin:null,extensionLogin:null,isLoginSessionInvalid:!1},Pn=(0,Nn.createSlice)({name:"loginInfoSlice",initialState:Ln,reducers:{setLoginMethod:(e,t)=>{e.loginMethod=t.payload},setTokenLogin:(e,t)=>{e.tokenLogin=t.payload},setTokenLoginSignature:(e,t)=>{(e==null?void 0:e.tokenLogin)!=null&&(e.tokenLogin.signature=t.payload)},setWalletLogin:(e,t)=>{e.walletLogin=t.payload},setWalletConnectLogin:(e,t)=>{e.walletConnectLogin=t.payload},setLedgerLogin:(e,t)=>{e.ledgerLogin=t.payload},invalidateLoginSession:e=>{e.isLoginSessionInvalid=!0}},extraReducers:e=>{e.addCase(F,()=>Ln),e.addCase($e,(t,r)=>{t.loginMethod=r.payload.loginMethod,be(ve())})}}),{setLoginMethod:Bc,setWalletConnectLogin:Uc,setLedgerLogin:Vc,setTokenLogin:$c,setTokenLoginSignature:Wc,setWalletLogin:Hc,invalidateLoginSession:Cn}=Pn.actions,Rn=Pn.reducer});var ha,Gt,qt=x(()=>{"use strict";o();ha=!1,Gt=(e,t=0)=>{ha||setTimeout(()=>{window.location.href=e},t)}});var Fn=x(()=>{"use strict";o();qt()});function jt(e){return e[Math.floor(Math.random()*e.length)]}var Mn=x(()=>{"use strict";o()});function On(e){let t=null;if((e==null?void 0:e.statusCode)in _t){let r=e==null?void 0:e.statusCode,{message:n}=_t[r];t=wa.includes(r)?_n:n}return{errorMessage:t,defaultErrorMessage:_n}}var _n,xa,Sa,wa,zt=x(()=>{"use strict";o();Ot();_n="Check if Elrond app is open on Ledger",xa=28161,Sa=28160,wa=[xa,Sa]});var Bn=x(()=>{"use strict";o();Fn();Mn();zt()});var Un,Vn,Kt,va,$n,nl,ol,Wn,Yt=x(()=>{"use strict";o();Un=require("@reduxjs/toolkit"),Vn=I(require("lodash.omit"));Bn();Kt={id:"not-configured",chainId:"",name:"NOT CONFIGURED",egldLabel:"",decimals:"18",digits:"4",gasPerDataByte:"1500",walletConnectDeepLink:"",walletConnectBridgeAddress:"",walletConnectV2RelayAddress:"",walletConnectV2ProjectId:"",walletAddress:"",apiAddress:"",explorerAddress:"",apiTimeout:"4000"},va={network:Kt,chainID:"-1"},$n=(0,Un.createSlice)({name:"appConfig",initialState:va,reducers:{initializeNetworkConfig:(e,t)=>{let r=jt(t.payload.walletConnectBridgeAddresses),n=jt(t.payload.walletConnectV2RelayAddresses),i=(0,Vn.default)(t.payload,"walletConnectBridgeAddresses","walletConnectV2RelayAddresses");e.network=v(w(w({},e.network),i),{walletConnectBridgeAddress:r,walletConnectV2RelayAddress:n})},setChainID:(e,t)=>{e.chainID=t.payload}}}),{initializeNetworkConfig:nl,setChainID:ol}=$n.actions,Wn=$n.reducer});var Xt,Hn,Gn,We,Zt,qn,jn,dl,zn,ml,gl,fl,Tl,yl,hl,xl,Kn,Jt=x(()=>{"use strict";o();Xt=require("@elrondnetwork/erdjs"),Hn=require("@reduxjs/toolkit"),Gn=require("redux-persist");E();Ue();we();J();We={balance:"...",address:"",nonce:0,txCount:0,scrCount:0,claimableRewards:me},Zt={address:"",websocketEvent:null,accounts:{"":We},ledgerAccount:null,publicKey:"",walletConnectAccount:null,isAccountLoading:!0,accountLoadingError:null},qn=(0,Hn.createSlice)({name:"accountInfoSlice",initialState:Zt,reducers:{setAddress:(e,t)=>{let r=t.payload;e.address=r,e.publicKey=new Xt.Address(r).hex()},setAccount:(e,t)=>{let r=e.address===t.payload.address;e.accounts={[e.address]:r?t.payload:We},e.isAccountLoading=!1,e.accountLoadingError=null},setAccountNonce:(e,t)=>{let{address:r}=e;e.accounts[r].nonce=t.payload},setAccountShard:(e,t)=>{e.shard=t.payload},setLedgerAccount:(e,t)=>{e.ledgerAccount=t.payload},updateLedgerAccount:(e,t)=>{e.ledgerAccount!=null&&(e.ledgerAccount.index=t.payload.index,e.ledgerAccount.address=t.payload.address)},setWalletConnectAccount:(e,t)=>{e.walletConnectAccount=t.payload},setIsAccountLoading:(e,t)=>{e.isAccountLoading=t.payload,e.accountLoadingError=null},setAccountLoadingError:(e,t)=>{e.accountLoadingError=t.payload,e.isAccountLoading=!1},setWebsocketEvent:(e,t)=>{e.websocketEvent={timestamp:Date.now(),message:t.payload}}},extraReducers:e=>{e.addCase(F,()=>(de.local.removeItem(ae.loginExpiresAt),Zt)),e.addCase($e,(t,r)=>{let{address:n}=r.payload;t.address=n,t.publicKey=new Xt.Address(n).hex()}),e.addCase(Gn.REHYDRATE,(t,r)=>{var g;if(!((g=r.payload)!=null&&g.account))return;let{account:n}=r.payload,{address:i,shard:a,accounts:l,publicKey:m}=n;t.address=i,t.shard=a;let d=l&&i in l;t.accounts=d?l:Zt.accounts,t.publicKey=m})}}),{setAccount:jn,setAddress:dl,setAccountNonce:zn,setAccountShard:ml,setLedgerAccount:gl,updateLedgerAccount:fl,setWalletConnectAccount:Tl,setIsAccountLoading:yl,setAccountLoadingError:hl,setWebsocketEvent:xl}=qn.actions,Kn=qn.reducer});function Zn(e){return e!=null&&(Na(e)||Fa(e))}function He(e){return e!=null&&(Pa(e)||Ma(e))}function Ge(e){return e!=null&&(Ca(e)||_a(e))}function Xn(e){return e!=null&&Ra(e)}function Na(e){return e!=null&&ba.includes(e)}function Pa(e){return e!=null&&Aa.includes(e)}function Ca(e){return e!=null&&Ia.includes(e)}function Ra(e){return e!=null&&Ea.includes(e)}function Fa(e){return e!=null&&ka.includes(e)}function Ma(e){return e!=null&&Da.includes(e)}function _a(e){return e!=null&&La.includes(e)}var ba,Aa,Ia,Ea,ka,Da,La,er=x(()=>{"use strict";o();O();ba=["sent"],Aa=["success"],Ia=["fail","cancelled","timedOut"],Ea=["timedOut"],ka=["pending"],Da=["success"],La=["fail","invalid"]});var Jn,Qn,Ae,Oa,eo,Dl,Ll,Nl,to,Pl,Cl,Rl,ro,no,oo,qe,je=x(()=>{"use strict";o();Jn=require("@reduxjs/toolkit"),Qn=require("redux-persist");O();er();J();Ae={signedTransactions:{},transactionsToSign:null,signTransactionsError:null,signTransactionsCancelMessage:null,customTransactionInformationForSessionId:{}},Oa={signWithoutSending:!1,sessionInformation:null,redirectAfterSign:!1},eo=(0,Jn.createSlice)({name:"transactionsSlice",initialState:Ae,reducers:{moveTransactionsToSignedState:(e,t)=>{var d,g;let{sessionId:r,transactions:n,errorMessage:i,status:a,redirectRoute:l}=t.payload,m=((d=e.customTransactionInformationForSessionId)==null?void 0:d[r])||Oa;e.signedTransactions[r]={transactions:n,status:a,errorMessage:i,redirectRoute:l,customTransactionInformation:m},((g=e==null?void 0:e.transactionsToSign)==null?void 0:g.sessionId)===r&&(e.transactionsToSign=Ae.transactionsToSign)},clearSignedTransaction:(e,t)=>{e.signedTransactions[t.payload]&&delete e.signedTransactions[t.payload]},clearTransactionToSign:e=>{e!=null&&e.transactionsToSign&&(e.transactionsToSign=null)},updateSignedTransaction:(e,t)=>{e.signedTransactions=w(w({},e.signedTransactions),t.payload)},updateSignedTransactions:(e,t)=>{let{sessionId:r,status:n,errorMessage:i,transactions:a}=t.payload;e.signedTransactions[r]!=null&&(e.signedTransactions[r].status=n,i!=null&&(e.signedTransactions[r].errorMessage=i),a!=null&&(e.signedTransactions[r].transactions=a))},updateSignedTransactionStatus:(e,t)=>{var m,d,g,T,f,S;let{sessionId:r,status:n,errorMessage:i,transactionHash:a}=t.payload,l=(d=(m=e.signedTransactions)==null?void 0:m[r])==null?void 0:d.transactions;if(l!=null){e.signedTransactions[r].transactions=l.map(N=>N.hash===a?v(w({},N),{status:n,errorMessage:i}):N);let y=(T=(g=e.signedTransactions[r])==null?void 0:g.transactions)==null?void 0:T.every(N=>He(N.status)),k=(S=(f=e.signedTransactions[r])==null?void 0:f.transactions)==null?void 0:S.every(N=>Ge(N.status));y&&(e.signedTransactions[r].status="success"),k&&(e.signedTransactions[r].status="fail")}},setTransactionsToSign:(e,t)=>{e.transactionsToSign=t.payload;let{sessionId:r,customTransactionInformation:n}=t.payload;e.customTransactionInformationForSessionId[r]=n,e.signTransactionsError=null},clearAllTransactionsToSign:e=>{e.transactionsToSign=Ae.transactionsToSign,e.signTransactionsError=null},clearAllSignedTransactions:e=>{e.signedTransactions=Ae.signedTransactions},setSignTransactionsError:(e,t)=>{e.signTransactionsError=t.payload},setSignTransactionsCancelMessage:(e,t)=>{e.signTransactionsCancelMessage=t.payload}},extraReducers:e=>{e.addCase(F,()=>Ae),e.addCase(Qn.REHYDRATE,(t,r)=>{var l;if(!((l=r.payload)!=null&&l.transactions))return;let{signedTransactions:n,customTransactionInformationForSessionId:i}=r.payload.transactions,a=Object.entries(n).reduce((m,[d,g])=>{let T=new Date(d),f=new Date;return f.setHours(f.getHours()+5),f-T>0||(m[d]=g),m},{});i!=null&&(t.customTransactionInformationForSessionId=i),n!=null&&(t.signedTransactions=a)})}}),{updateSignedTransactionStatus:Dl,updateSignedTransactions:Ll,setTransactionsToSign:Nl,clearAllTransactionsToSign:to,clearAllSignedTransactions:Pl,clearSignedTransaction:Cl,clearTransactionToSign:Rl,setSignTransactionsError:ro,setSignTransactionsCancelMessage:no,moveTransactionsToSignedState:oo}=eo.actions,qe=eo.reducer});var io,rr,nr,or,Ba,tr,ao,Ol,Bl,so,ze,Ke=x(()=>{"use strict";o();io=require("@reduxjs/toolkit");J();rr="Transaction failed",nr="Transaction successful",or="Processing transaction",Ba="Transaction submitted",tr={},ao=(0,io.createSlice)({name:"transactionsInfo",initialState:tr,reducers:{setTransactionsDisplayInfo(e,t){let{sessionId:r,transactionsDisplayInfo:n}=t.payload;r!=null&&(e[r]={errorMessage:(n==null?void 0:n.errorMessage)||rr,successMessage:(n==null?void 0:n.successMessage)||nr,processingMessage:(n==null?void 0:n.processingMessage)||or,submittedMessage:(n==null?void 0:n.submittedMessage)||Ba,transactionDuration:n==null?void 0:n.transactionDuration})},clearTransactionsInfoForSessionId(e,t){t.payload!=null&&delete e[t.payload]},clearTransactionsInfo:()=>tr},extraReducers:e=>{e.addCase(F,()=>tr)}}),{clearTransactionsInfo:Ol,setTransactionsDisplayInfo:Bl,clearTransactionsInfoForSessionId:so}=ao.actions,ze=ao.reducer});var lo,co,po,Wl,Hl,Gl,ql,uo,ir=x(()=>{"use strict";o();lo=require("@reduxjs/toolkit");J();co={},po=(0,lo.createSlice)({name:"modalsSlice",initialState:co,reducers:{setTxSubmittedModal:(e,t)=>{e.txSubmittedModal=t.payload},setNotificationModal:(e,t)=>{e.notificationModal=t.payload},clearTxSubmittedModal:e=>{e.txSubmittedModal=void 0},clearNotificationModal:e=>{e.notificationModal=void 0}},extraReducers:e=>{e.addCase(F,()=>co)}}),{setTxSubmittedModal:Wl,setNotificationModal:Hl,clearTxSubmittedModal:Gl,clearNotificationModal:ql}=po.actions,uo=po.reducer});var go,mo,fo,Ql,ep,tp,rp,np,op,Ye,Ze=x(()=>{"use strict";o();go=require("@reduxjs/toolkit");Bt();X();Lt();J();mo={customToasts:[],transactionToasts:[],failTransactionToast:null},fo=(0,go.createSlice)({name:"toastsSlice",initialState:mo,reducers:{addCustomToast:(e,t)=>{e.customToasts.push(v(w({},t.payload),{type:"custom",toastId:t.payload.toastId||`custom-toast-${e.customToasts.length+1}`}))},removeCustomToast:(e,t)=>{e.customToasts=e.customToasts.filter(r=>r.toastId!==t.payload)},addTransactionToast:(e,t)=>{e.transactionToasts.push({type:"transaction",startTimestamp:Be(),toastId:t.payload||`custom-toast-${e.transactionToasts.length+1}`})},removeTransactionToast:(e,t)=>{e.transactionToasts=e.transactionToasts.filter(r=>r.toastId!==t.payload)},addFailTransactionToast:(e,t)=>{e.failTransactionToast=v(w({},t.payload),{toastId:En})},removeFailTransactionToast:e=>{e.failTransactionToast=null}},extraReducers:e=>{e.addCase(F,()=>mo)}}),{addCustomToast:Ql,removeCustomToast:ep,addTransactionToast:tp,removeTransactionToast:rp,addFailTransactionToast:np,removeFailTransactionToast:op}=fo.actions,Ye=fo.reducer});var Q=x(()=>{"use strict";o();Ht();Yt();Jt();je();Ke();ir();Ze()});var Tr=x(()=>{"use strict";o()});var No,Lo,Po,Wu,Hu,Gu,qu,ju,zu,Co,Ro=x(()=>{"use strict";o();No=require("@reduxjs/toolkit");J();Lo={visible:!1,modal:{showHeader:!0,showFooter:!1,headerText:"",footerText:""}},Po=(0,No.createSlice)({name:"dappModalsSlice",initialState:Lo,reducers:{setDappModalVisibility:(e,t)=>{e.visible=t.payload},setDappModalHeaderVisibility:(e,t)=>{e.modal.showHeader=t.payload},setDappModalFooterVisibility:(e,t)=>{e.modal.showFooter=t.payload},setDappModalHeaderText:(e,t)=>{e.modal.headerText=t.payload},setDappModalFooterText:(e,t)=>{e.modal.footerText=t.payload},setDappModalConfig:(e,t)=>{e.modal=w({},t.payload)}},extraReducers:e=>{e.addCase(F,()=>Lo)}}),{setDappModalVisibility:Wu,setDappModalHeaderVisibility:Hu,setDappModalFooterVisibility:Gu,setDappModalHeaderText:qu,setDappModalFooterText:ju,setDappModalConfig:zu}=Po.actions,Co=Po.reducer});var Fo,ja,za,fe,tt=x(()=>{"use strict";o();Fo=require("@reduxjs/toolkit");Tr();Jt();Ro();Ht();ir();Yt();Ze();Ke();je();ja={["account"]:Kn,["networkConfig"]:Wn,["loginInfo"]:Rn,["modals"]:uo,["dappModal"]:Co,["toasts"]:Ye,["transactions"]:qe,["transactionsInfo"]:ze},za=(e={})=>(0,Fo.combineReducers)(w(w({},ja),e)),fe=za});var Oo={};re(Oo,{default:()=>es});function yr(e,t=[]){return{key:e,version:1,storage:_o.default,blacklist:t}}var se,Mo,_o,Ka,Ya,Za,Xa,Ja,Qa,es,Bo=x(()=>{"use strict";o();se=require("redux-persist"),Mo=I(require("redux-persist/lib/storage")),_o=I(require("redux-persist/lib/storage/session"));tt();Q();Ze();Ke();je();Tr();Ka={2:e=>v(w({},e),{networkConfig:Kt})};Ya=yr("dapp-core-transactionsInfo"),Za=yr("dapp-core-transactions",["transactionsToSign"]),Xa=yr("dapp-core-toasts"),Ja={key:"dapp-core-store",version:2,storage:Mo.default,whitelist:["account","loginInfo","modals","networkConfig"],migrate:(0,se.createMigrate)(Ka,{debug:!1})},Qa={["toasts"]:(0,se.persistReducer)(Xa,Ye),["transactions"]:(0,se.persistReducer)(Za,qe),["transactionsInfo"]:(0,se.persistReducer)(Ya,ze)},es=(0,se.persistReducer)(Ja,fe(Qa))});var Uo={};re(Uo,{default:()=>ts});var ts,Vo=x(()=>{"use strict";o();tt();ts=fe()});var $o={};re($o,{default:()=>ns});var B,rs,ns,Wo=x(()=>{"use strict";o();B=require("redux-persist"),rs=[B.FLUSH,B.REHYDRATE,B.PAUSE,B.PERSIST,B.PURGE,B.REGISTER],ns=rs});var qo={};re(qo,{default:()=>Go});function Go(e){return(0,Ho.persistStore)(e)}var Ho,jo=x(()=>{"use strict";o();Ho=require("redux-persist")});var _s={};re(_s,{useSignTransactionsWithLedger:()=>Ms});module.exports=Se(_s);o();o();o();var ii=I(require("axios"));o();o();Q();o();var To=I(require("lodash.isequal")),Xe=require("reselect"),h=(0,Xe.createSelectorCreator)(Xe.defaultMemoize,To.default);var Y=e=>e.account,ar=h(Y,e=>e.address),sr=h(Y,ar,(e,t)=>t in e.accounts?e.accounts[t]:We),yo=h(Y,sr,(e,t)=>{let i=e,{accounts:r}=i,n=_r(i,["accounts"]);return v(w({},n),{account:t})}),yp=h(sr,e=>e.balance),hp=h(sr,e=>{var t;return((t=e==null?void 0:e.nonce)==null?void 0:t.valueOf())||0}),xp=h(Y,e=>e.shard),Sp=h(Y,e=>e.ledgerAccount),wp=h(Y,e=>e.walletConnectAccount),vp=h(Y,e=>e.isAccountLoading),bp=h(Y,e=>e.accountLoadingError),Ap=h(Y,e=>e.websocketEvent);o();var ee=e=>e.networkConfig,kp=h(ee,e=>e.chainID),Dp=h(ee,e=>e.network.walletConnectBridgeAddress),Lp=h(ee,e=>e.network.walletConnectV2RelayAddress),Np=h(ee,e=>e.network.walletConnectV2ProjectId),Pp=h(ee,e=>e.network.walletConnectDeepLink),cr=h(ee,e=>e.network),Cp=h(cr,e=>e.apiAddress),ho=h(cr,e=>e.explorerAddress),xo=h(cr,e=>e.egldLabel);o();O();var ge=e=>e.loginInfo,Op=h(ge,e=>e.loginMethod),Bp=h(ge,ar,(e,t)=>e.loginMethod!=""&&Boolean(t)),Up=h(ge,e=>e.walletConnectLogin),Vp=h(ge,e=>e.ledgerLogin),$p=h(ge,e=>e.walletLogin),Wp=h(ge,e=>e.isLoginSessionInvalid);o();o();var M=require("@elrondnetwork/erdjs");E();o();function lr(e){try{return s.Buffer.from(e,"base64").toString()===atob(e)}catch(t){return!1}}function Je(e){var i,a,l;let{data:t}=e,r=lr(t!=null?t:"")?M.TransactionPayload.fromEncoded(t):new M.TransactionPayload(t),n=new M.Transaction(w({value:e.value.valueOf(),data:r,nonce:e.nonce.valueOf(),receiver:new M.Address(e.receiver),sender:new M.Address(e.sender),gasLimit:(i=e.gasLimit.valueOf())!=null?i:Ut,gasPrice:(a=e.gasPrice.valueOf())!=null?a:Vt,chainID:e.chainID.valueOf(),version:new M.TransactionVersion((l=e.version)!=null?l:kn)},e.options?{options:new M.TransactionOptions(e.options)}:{}));return n.applySignature({hex:()=>e.signature||""},new M.Address(e.sender)),n}o();er();o();var ur=I(require("bignumber.js"));X();o();o();function pr(e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>127)return!1;return!0}function Ie(e){let t=e;try{let r=s.Buffer.from(e,"hex").toString();pr(r)&&r.length>1&&(t=r)}catch(r){}return t}o();var So=(e,t)=>{let r=[],n=e.indexOf(t,0);for(;n>=0;)r.push(n),n=e.indexOf(t,n+1);return r};function vo(e){let t=[],r=0;try{if((e==null?void 0:e.startsWith("MultiESDTNFTTransfer"))&&(e==null?void 0:e.includes("@"))){let[,n,i,...a]=e==null?void 0:e.split("@");if(n){let l=new ur.default(i,16).toNumber(),m=0;for(let f=0;f<l;f++){let S={type:"nftTransaction",data:"",receiver:n};for(let y=0;y<3;y++){switch(y){case 0:S.token=Ie(a[m]),S.data=a[m];break;case 1:{let k=a[m]&&a[m].length?a[m]:"";k?S.nonce=k:S.type="esdtTransaction",S.data=`${S.data}@${a[m]}`;break}case 2:S.amount=new ur.default(a[m],16).toString(10),S.data=`${S.data}@${a[m]}`;break;default:break}r=m+1,m++}t[f]=S}let d=t.length!==l,g=t.some(f=>So(f.data,"@").length!==2),T=t.some(f=>f.data.startsWith("@"));if(d||g||T)return[];if(a[r]){let f=a[r];for(let S=r+1;S<a.length;S++)f+="@"+a[S];t[l]={type:"scCall",data:f,receiver:n}}}}}catch(n){return console.error("failed parsing tx",n),t}return t}o();var mr=require("@elrondnetwork/erdjs"),gr=I(require("bignumber.js"));O();o();var bo=require("@elrondnetwork/erdjs");function Ua(e){try{let t=new bo.Address(e);return Boolean(t.bech32())}catch(t){return!1}}function Qe(e){return(e==null?void 0:e.startsWith("erd"))&&e.length===62&&/^\w+$/.test(e)&&Ua(e)}var dr={tokenId:"",amount:""},Va=e=>e.split("@").map((a,l)=>[2,3].includes(l)?a:Ie(a));function fr(e){if(!e)return dr;let t=e.startsWith("ESDTTransfer"),r=e.startsWith("ESDTNFTTransfer")&&e.includes("@");if(t){let[,n,i]=e.split("@");try{let a=s.Buffer.from(n,"hex").toString("ascii");if(!a)return dr;let l=new gr.default("0x"+i.replace("0x","")).toString(10);return{tokenId:a,amount:l}}catch(a){console.error("Error getting token from transaction data",a)}}if(r)try{let[,n,i,a,l]=Va(e);if([n,i,a,l].every(m=>Boolean(m))&&Qe(new mr.Address(l).bech32()))return{tokenId:`${n}-${i}`,amount:new gr.default(a,16).toString(10),collection:n,nonce:i,receiver:new mr.Address(l).bech32()}}catch(n){}return dr}o();function Ao({tokenId:e,erdLabel:t}){return Boolean(e&&e!==t)}o();o();var Wa=require("@elrondnetwork/erdjs/out");o();E();o();var Io=require("@elrondnetwork/erdjs");X();o();o();o();o();O();function Eo(e){let r=Object.getPrototypeOf(e).toPlainObject!=null?e:Je(e);return v(w({},r.toPlainObject()),{hash:r.getHash().hex(),status:"pending"})}o();o();var hr=require("@reduxjs/toolkit"),Zo=require("react-redux/es/utils/Subscription");Q();o();var ko=I(require("lodash.throttle"));E();Q();Rt();Ue();we();var Ha=[Ve],Ga=(0,ko.default)(()=>{be(ve())},5e3),Do=e=>t=>r=>{var d;if(Ha.includes(r.type))return t(r);let n=e.getState(),i=de.local.getItem(ae.loginExpiresAt);if(!((d=n==null?void 0:n.loginInfo)==null?void 0:d.isLoggedIn))return t(r);if(i==null)return be(ve());let l=Date.now();return i-l<0?setTimeout(()=>U(void 0,null,function*(){console.log("session expired");try{e.dispatch(Cn())}catch(g){console.error("error logging out",g)}}),1e3):(Ga(),t(r))};o();o();function et(){return typeof sessionStorage!="undefined"}var zo=et()?(Bo(),Se(Oo)).default:(Vo(),Se(Uo)).default,Ko=et()?(Wo(),Se($o)).default:[],Yo=et()?(jo(),Se(qo)).default:e=>e;tt();var G=(0,hr.configureStore)({reducer:zo,middleware:e=>e({serializableCheck:{ignoredActions:[...Ko,zn.type,jn.type],ignoredPaths:["payload.nonce","account.account.nonce","providers.accountProvider"]}}).concat(Do)}),Xo=(0,Zo.createSubscription)(G),hd=Yo(G),xd=(0,hr.configureStore)({reducer:fe});o();o();o();o();o();o();var xr="accounts";o();o();o();o();C();o();o();C();o();o();o();var ps=I(require("bignumber.js"));E();o();var ls=require("@elrondnetwork/erdjs"),Sr=I(require("bignumber.js"));E();o();var ss=I(require("bignumber.js"));o();Sr.default.config({ROUNDING_MODE:Sr.default.ROUND_FLOOR});o();o();o();E();o();o();o();o();E();o();E();o();var us=require("@elrondnetwork/erdjs");E();o();var ot=require("@elrondnetwork/erdjs"),ms=require("@elrondnetwork/erdjs"),gs=require("@elrondnetwork/erdjs-network-providers");E();o();o();var ds=I(require("bignumber.js"));E();o();E();o();o();o();o();o();E();o();C();var Ts=["reDelegateRewards","claimRewards","unBond"],ys=["wrapEgld","unwrapEgld"],hs=["unStake"],xs=["unDelegate"];o();o();o();E();o();var vs=I(require("bignumber.js"));o();o();o();C();o();var bs=I(require("bignumber.js"));o();o();o();C();o();C();o();var Is=I(require("bignumber.js"));E();C();o();C();o();C();o();var Es=I(require("bignumber.js"));o();O();o();O();o();o();var ks=require("react");C();var ST=["create","localMint","ESDTLocalMint","addQuantity","burn","localBurn","ESDTLocalBurn","wipe","writeLog","signalError"];o();var Ds=I(require("anchorme"));o();var ti=require("react");X();o();o();C();o();var Ls=require("@elrondnetwork/erdjs/out"),Ns=I(require("bignumber.js"));C();o();C();o();o();O();var XT=[{label:"Raw",value:"raw"},{label:"Text",value:"text"},{label:"Decimal",value:"decimal"},{label:"Smart",value:"smart"}];o();var ri=require("react");X();o();o();o();o();o();E();var at=e=>e.transactions,Ee=h(at,e=>e.signedTransactions),Hy=h(at,e=>e.signTransactionsError),Gy=h(at,e=>e.signTransactionsCancelMessage),st=e=>t=>Object.entries(t).reduce((r,[n,i])=>(e(i.status)&&(r[n]=i),r),{}),qy=h(Ee,st(Zn)),jy=h(Ee,st(He)),zy=h(Ee,st(Ge)),Ky=h(Ee,st(Xn)),ct=h(at,e=>{var t;return(e==null?void 0:e.transactionsToSign)==null?null:v(w({},e.transactionsToSign),{transactions:((t=e==null?void 0:e.transactionsToSign)==null?void 0:t.transactions.map(r=>Je(r)))||[]})}),Yy=h(Ee,(e,t)=>t,(e,t)=>t!=null?(e==null?void 0:e[t])||{}:{});o();Q();var ni={errorMessage:rr,successMessage:nr,processingMessage:or},Cs=e=>e.transactionsInfo,Qy=h(Cs,(e,t)=>t,(e,t)=>t!=null&&(e==null?void 0:e[Number(t)])||ni);o();var oi=e=>e.modals,rh=h(oi,e=>e.txSubmittedModal),nh=h(oi,e=>e.notificationModal);o();var vr=e=>e.toasts,ah=h(vr,e=>e.customToasts),sh=h(vr,e=>e.transactionToasts),ch=h(vr,e=>e.failTransactionToast);function ai(e){return U(this,null,function*(){let{network:{apiAddress:t,apiTimeout:r}}=ee(G.getState()),{data:n}=yield ii.default.get(`/${xr}/${e}`,{baseURL:t,timeout:Number(r)});return n})}o();o();var si=require("react"),Te=require("react-redux");var Rs={store:G,subscription:Xo},br=(0,si.createContext)(Rs),Ah=(0,Te.createStoreHook)(br),lt=(0,Te.createDispatchHook)(br),ke=(0,Te.createSelectorHook)(br);var ci=()=>ke(yo);o();o();o();o();var li=require("@elrondnetwork/erdjs-extension-provider"),pi=require("@elrondnetwork/erdjs-hw-provider"),ut=require("@elrondnetwork/erdjs-wallet-connect-provider"),ui=require("@elrondnetwork/erdjs-web-wallet-provider");E();O();var dt=e=>{switch(e==null?void 0:e.constructor){case ui.WalletProvider:return"wallet";case ut.WalletConnectProvider:return"walletconnect";case ut.WalletConnectV2Provider:return"walletconnectv2";case pi.HWProvider:return"ledger";case li.ExtensionProvider:return"extension";case pt:return"";default:return"extra"}};var Z=e=>`Unable to perform ${e}, Provider not initialized`,pt=class{init(){return Promise.resolve(!1)}login(t){throw new Error(Z(`login with options: ${t}`))}logout(t){throw new Error(Z(`logout with options: ${t}`))}getAddress(){throw new Error(Z("getAddress"))}isInitialized(){return!1}isConnected(){return Promise.resolve(!1)}sendTransaction(t,r){throw new Error(Z(`sendTransaction with transactions: ${t} options: ${r}`))}signTransaction(t,r){throw new Error(Z(`signTransaction with transactions: ${t} options: ${r}`))}signTransactions(t,r){throw new Error(Z(`signTransactions with transactions: ${t} options: ${r}`))}signMessage(t,r){throw new Error(Z(`signTransactions with ${t} and options ${r}`))}sendCustomMessage({method:t,params:r}){throw new Error(Z(`sendCustomMessage with method: ${t} params: ${r}`))}sendCustomRequest(t){throw new Error(Z(`sendSessionEvent with options: ${t}`))}ping(){return Promise.resolve(!1)}},Ar=new pt;var Fs=Ar;function De(){return Fs||Ar}var di=()=>{let e=De(),t=dt(e);return{provider:e,providerType:t}};o();var ce=require("react");o();var Le=require("react");var mi={tokenId:"",amount:"",type:"",multiTxData:"",receiver:""};function gi({transactions:e}){let[t,r]=(0,Le.useState)({}),[n,i]=(0,Le.useState)([]);function a(d,g){r(T=>v(w({},T),{[d]:g}))}function l(d,g){return t==null?mi:d in t?t[d]:g!=null&&String(g)in t?t[g]:mi}function m(){if(e&&e.length>0){let d=[];e.forEach((g,T)=>{let f=g.getData().toString(),S=vo(f);if(S.length>0)S.forEach((y,k)=>{let N={transaction:g,multiTxData:y.data,transactionIndex:k};a(y.data,{tokenId:y.token?y.token:"",amount:y.amount?y.amount:"",type:y.type,nonce:y.nonce?y.nonce:"",multiTxData:y.data,receiver:y.receiver}),d.push(N)});else{let{tokenId:y,amount:k}=fr(g.getData().toString());y&&a(g.getData().toString(),{tokenId:y,amount:k,receiver:g.getReceiver().bech32()}),d.push({transaction:g,transactionIndex:T})}}),i(d)}}return(0,Le.useEffect)(()=>{m()},[e==null?void 0:e.length]),{parsedTransactionsByDataField:t,getTxInfoByDataField:l,allTransactions:n}}zt();var mt={};function fi({isLedger:e=!1,transactionsToSign:t,egldLabel:r,address:n,onCancel:i,onSignTransaction:a,onTransactionsSignError:l,onTransactionsSignSuccess:m,onGetScamAddressData:d}){var Dr,Lr,Nr;let[g,T]=(0,ce.useState)(0),[f,S]=(0,ce.useState)(),[y,k]=(0,ce.useState)(null),[N,ye]=(0,ce.useState)(!1),{getTxInfoByDataField:gt,allTransactions:P}=gi({transactions:t}),Ne=g===P.length-1;(0,ce.useEffect)(()=>{ft()},[g,P]);function ft(){return U(this,null,function*(){var Rr;let A=P[g];if(A==null)return;let{transaction:L,multiTxData:q}=A,Tt=L.getData().toString(),Pr=gt(L.getData().toString(),q),{tokenId:Cr}=Pr,he=L.getReceiver().toString(),ki=n!==he,Di=he in mt;if(ki&&!Di&&d!=null){let Pe=yield d(he);mt=w(w({},mt),Pe!=null&&Pe.scamInfo?{[he]:Pe.scamInfo}:{})}let Li=Boolean(Cr&&Ao({tokenId:Cr,erdLabel:r}));k({transaction:L,receiverScamInfo:((Rr=mt[he])==null?void 0:Rr.info)||null,transactionTokenInfo:Pr,isTokenTransaction:Li,dataField:Tt})})}function Ir(){T(0),S(void 0),ye(!1)}function Er(){return U(this,null,function*(){try{if(y==null)return;ye(e);let A=yield a(y.transaction),L={[g]:A},q=f?w(w({},f),L):L;S(q),Ne?q&&(m(Object.values(q)),Ir()):(T(Tt=>Tt+1),ye(!1))}catch(A){console.error(A,"sign error");let{message:L}=A,q=e?On(A).errorMessage:null;Ir(),l(q!=null?q:L)}})}function wi(){try{if(y==null)return;y.transaction.getSignature().hex()?Ne||T(L=>L+1):Er()}catch(A){Er()}}let vi=g===0;function bi(){vi?i==null||i():T(A=>A-1)}let kr=Boolean(((Dr=y==null?void 0:y.transactionTokenInfo)==null?void 0:Dr.type)&&((Lr=y==null?void 0:y.transactionTokenInfo)==null?void 0:Lr.multiTxData)&&!(y!=null&&y.dataField.endsWith((Nr=y==null?void 0:y.transactionTokenInfo)==null?void 0:Nr.multiTxData)));function Ai(){kr?T(A=>A+1):wi()}function Ii(){T(A=>{let L=A+1;return L>(P==null?void 0:P.length)?A:L})}function Ei(){T(A=>{let L=A-1;return L<0?A:L})}return{allTransactions:P,onSignTransaction:Ai,onNext:Ii,onPrev:Ei,waitingForDevice:N,onAbort:bi,isLastTransaction:Ne,isFirstTransaction:g===0,hasMultipleTransactions:P.length>1,shouldContinueWithoutSigning:kr,currentStep:g,signedTransactions:f,currentTransaction:y}}Q();X();o();o();function Ti(){let e=De();return dt(e)}function yi(e){return Ti()===e}qt();o();function hi(e){let t=ct(G.getState()),r=Object.keys(e).length===(t==null?void 0:t.transactions.length);return e&&(e&&r)}o();Ft();Q();function xi(){let e=lt();return t=>{e(to()),e(so(t)),e(no(fn))}}function Si({onCancel:e,verifyReceiverScam:t=!0}){let r=ke(ct),n=ke(xo),{account:{address:i}}=ci(),{provider:a}=di(),l=lt(),m=xi(),{transactions:d,sessionId:g,callbackRoute:T,customTransactionInformation:f}=r||{};function S(P){l(ro(P))}let y=T!=null&&window.location.pathname.includes(T);function k(P){!hi(P)||g&&(l(oo({sessionId:g,status:"signed",transactions:P.map(ft=>Eo(ft))})),T!=null&&(f==null?void 0:f.redirectAfterSign)&&!y&&Gt(T))}function N(){e(),m(g)}function ye(P){return U(this,null,function*(){return yield a.signTransaction(P)})}let gt=fi({address:i,egldLabel:n,transactionsToSign:d,onGetScamAddressData:t?ai:null,isLedger:yi("ledger"),onCancel:N,onSignTransaction:ye,onTransactionsSignError:S,onTransactionsSignSuccess:k});return v(w({},gt),{callbackRoute:T})}function Ms(e){return Si(e)}0&&(module.exports={useSignTransactionsWithLedger});
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
//# sourceMappingURL=useSignTransactionsWithLedger.js.map
