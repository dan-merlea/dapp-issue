{"ast":null,"code":"\"use strict\";\n\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar browser_1 = require(\"./browser\");\nvar node_1 = require(\"./node\");\nvar SystemRandomSource = /** @class */function () {\n  function SystemRandomSource() {\n    this.isAvailable = false;\n    this.name = \"\";\n    // Try browser.\n    this._source = new browser_1.BrowserRandomSource();\n    if (this._source.isAvailable) {\n      this.isAvailable = true;\n      this.name = \"Browser\";\n      return;\n    }\n    // If no browser source, try Node.\n    this._source = new node_1.NodeRandomSource();\n    if (this._source.isAvailable) {\n      this.isAvailable = true;\n      this.name = \"Node\";\n      return;\n    }\n    // No sources, we're out of options.\n  }\n\n  SystemRandomSource.prototype.randomBytes = function (length) {\n    if (!this.isAvailable) {\n      throw new Error(\"System random byte generator is not available.\");\n    }\n    return this._source.randomBytes(length);\n  };\n  return SystemRandomSource;\n}();\nexports.SystemRandomSource = SystemRandomSource;","map":{"version":3,"sources":["../../source/system.ts"],"names":[],"mappings":";;AAAA;AACA;;;;AAGA,IAAA,SAAA,GAAA,OAAA,CAAA,WAAA,CAAA;AACA,IAAA,MAAA,GAAA,OAAA,CAAA,QAAA,CAAA;AAEA,IAAA,kBAAA,GAAA,aAAA,YAAA;EAKI,SAAA,kBAAA,GAAA;IAJA,IAAA,CAAA,WAAW,GAAG,KAAK;IACnB,IAAA,CAAA,IAAI,GAAG,EAAE;IAIL;IACA,IAAI,CAAC,OAAO,GAAG,IAAI,SAAA,CAAA,mBAAmB,EAAE;IACxC,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;MAC1B,IAAI,CAAC,WAAW,GAAG,IAAI;MACvB,IAAI,CAAC,IAAI,GAAG,SAAS;MACrB;IACH;IAED;IACA,IAAI,CAAC,OAAO,GAAG,IAAI,MAAA,CAAA,gBAAgB,EAAE;IACrC,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;MAC1B,IAAI,CAAC,WAAW,GAAG,IAAI;MACvB,IAAI,CAAC,IAAI,GAAG,MAAM;MAClB;IACH;IAED;EACJ;;EAEA,kBAAA,CAAA,SAAA,CAAA,WAAW,GAAX,UAAY,MAAc,EAAA;IACtB,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;MACnB,MAAM,IAAI,KAAK,CAAC,gDAAgD,CAAC;IACpE;IACD,OAAO,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,MAAM,CAAC;EAC3C,CAAC;EACL,OAAA,kBAAC;AAAD,CAAC,EAAA;AA/BY,OAAA,CAAA,kBAAA,GAAA,kBAAA","sourceRoot":"","sourcesContent":["\"use strict\";\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar browser_1 = require(\"./browser\");\nvar node_1 = require(\"./node\");\nvar SystemRandomSource = /** @class */ (function () {\n    function SystemRandomSource() {\n        this.isAvailable = false;\n        this.name = \"\";\n        // Try browser.\n        this._source = new browser_1.BrowserRandomSource();\n        if (this._source.isAvailable) {\n            this.isAvailable = true;\n            this.name = \"Browser\";\n            return;\n        }\n        // If no browser source, try Node.\n        this._source = new node_1.NodeRandomSource();\n        if (this._source.isAvailable) {\n            this.isAvailable = true;\n            this.name = \"Node\";\n            return;\n        }\n        // No sources, we're out of options.\n    }\n    SystemRandomSource.prototype.randomBytes = function (length) {\n        if (!this.isAvailable) {\n            throw new Error(\"System random byte generator is not available.\");\n        }\n        return this._source.randomBytes(length);\n    };\n    return SystemRandomSource;\n}());\nexports.SystemRandomSource = SystemRandomSource;\n//# sourceMappingURL=system.js.map"]},"metadata":{},"sourceType":"script"}