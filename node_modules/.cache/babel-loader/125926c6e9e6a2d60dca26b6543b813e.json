{"ast":null,"code":"import _regeneratorRuntime from \"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport { a as E } from \"./chunk-RRAJ3CMT.js\";\nimport { c as B, d as m } from \"./chunk-57IQZAYS.js\";\nimport { a as A } from \"./chunk-A44I5EGN.js\";\nimport { d as M } from \"./chunk-6RTR2ERY.js\";\nimport { b as w } from \"./chunk-O537HDKP.js\";\nimport { a as I } from \"./chunk-2MXBSPUA.js\";\nimport { a as q } from \"./chunk-X7UKRW56.js\";\nimport { c as u, e as b } from \"./chunk-QCAG4H2G.js\";\nimport { b as R } from \"./chunk-MNUBSRZF.js\";\nimport { b as h, c as W } from \"./chunk-WUCJ5FDJ.js\";\nimport { k as U } from \"./chunk-P6M5SGWP.js\";\nimport { a as l, b as T, j as g, m as y } from \"./chunk-HBP5N4FR.js\";\ny();\nimport { useEffect as z, useRef as F } from \"react\";\nimport { Address as G } from \"@elrondnetwork/erdjs\";\nimport { Signature as J } from \"@elrondnetwork/erdjs/out/signature\";\nq();\nU();\nW();\nvar P = function P(c) {\n    var t = c.redirectRoute;\n    t && h(t);\n  },\n  mn = function mn(_ref) {\n    var _ref$sendSignedTransa = _ref.sendSignedTransactionsAsync,\n      c = _ref$sendSignedTransa === void 0 ? A : _ref$sendSignedTransa;\n    var t = m(w),\n      n = m(M),\n      r = F(!1),\n      a = B(),\n      S = function S() {\n        a(b()), r.current = !1;\n      };\n    function j() {\n      return g(this, null, /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var f, k, _i, _k, e, o, x, _ret;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                k = Object.keys(n);\n                _i = 0, _k = k;\n              case 2:\n                if (!(_i < _k.length)) {\n                  _context2.next = 24;\n                  break;\n                }\n                e = _k[_i];\n                o = n == null ? void 0 : n[e], x = (f = o == null ? void 0 : o.customTransactionInformation) == null ? void 0 : f.signWithoutSending;\n                if (!(!e || x)) {\n                  _context2.next = 8;\n                  break;\n                }\n                P(o);\n                return _context2.abrupt(\"continue\", 21);\n              case 8:\n                _context2.prev = 8;\n                return _context2.delegateYield( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n                  var i, C, O, v, D;\n                  return _regeneratorRuntime().wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          if (n[e].status === \"signed\" && !r.current) {\n                            _context.next = 2;\n                            break;\n                          }\n                          return _context.abrupt(\"return\", \"continue\");\n                        case 2:\n                          i = n[e].transactions;\n                          if (i) {\n                            _context.next = 5;\n                            break;\n                          }\n                          return _context.abrupt(\"return\", \"continue\");\n                        case 5:\n                          r.current = !0;\n                          C = i.map(function (s) {\n                            var H = new G(s.sender),\n                              p = I(s),\n                              N = new J(s.signature);\n                            return p.applySignature(N, H), p;\n                          });\n                          _context.next = 9;\n                          return c(C);\n                        case 9:\n                          O = _context.sent;\n                          v = \"pending\";\n                          D = i.map(function (s) {\n                            return O.includes(s.hash) ? T(l({}, s), {\n                              status: v\n                            }) : s;\n                          });\n                          a(R({\n                            sessionId: e,\n                            submittedMessage: \"submitted\"\n                          })), a(u({\n                            sessionId: e,\n                            status: \"sent\",\n                            transactions: D\n                          })), S(), E(t.nonce + i.length), P(o), history.pushState({}, document.title, \"?\");\n                        case 13:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                })(), \"t0\", 10);\n              case 10:\n                _ret = _context2.t0;\n                if (!(_ret === \"continue\")) {\n                  _context2.next = 13;\n                  break;\n                }\n                return _context2.abrupt(\"continue\", 21);\n              case 13:\n                _context2.next = 18;\n                break;\n              case 15:\n                _context2.prev = 15;\n                _context2.t1 = _context2[\"catch\"](8);\n                console.error(\"Unable to send transactions\", _context2.t1), a(u({\n                  sessionId: e,\n                  status: \"fail\",\n                  errorMessage: _context2.t1.message\n                })), S();\n              case 18:\n                _context2.prev = 18;\n                r.current = !1;\n                return _context2.finish(18);\n              case 21:\n                _i++;\n                _context2.next = 2;\n                break;\n              case 24:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[8, 15, 18, 21]]);\n      }));\n    }\n    return z(function () {\n      j();\n    }, [n, t]), null;\n  };\nexport { mn as a };","map":{"version":3,"names":["a","E","c","B","d","m","A","M","b","w","I","q","u","e","R","h","W","k","U","l","T","j","g","y","useEffect","z","useRef","F","Address","G","Signature","J","P","t","redirectRoute","mn","sendSignedTransactionsAsync","n","r","S","current","Object","keys","o","x","f","customTransactionInformation","signWithoutSending","status","i","transactions","C","map","s","H","sender","p","N","signature","applySignature","O","v","D","includes","hash","sessionId","submittedMessage","nonce","length","history","pushState","document","title","console","error","errorMessage","message"],"sources":["/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@elrondnetwork/dapp-core/__chunks__/chunk-J57G2YPG.js"],"sourcesContent":["import{a as E}from\"./chunk-RRAJ3CMT.js\";import{c as B,d as m}from\"./chunk-57IQZAYS.js\";import{a as A}from\"./chunk-A44I5EGN.js\";import{d as M}from\"./chunk-6RTR2ERY.js\";import{b as w}from\"./chunk-O537HDKP.js\";import{a as I}from\"./chunk-2MXBSPUA.js\";import{a as q}from\"./chunk-X7UKRW56.js\";import{c as u,e as b}from\"./chunk-QCAG4H2G.js\";import{b as R}from\"./chunk-MNUBSRZF.js\";import{b as h,c as W}from\"./chunk-WUCJ5FDJ.js\";import{k as U}from\"./chunk-P6M5SGWP.js\";import{a as l,b as T,j as g,m as y}from\"./chunk-HBP5N4FR.js\";y();import{useEffect as z,useRef as F}from\"react\";import{Address as G}from\"@elrondnetwork/erdjs\";import{Signature as J}from\"@elrondnetwork/erdjs/out/signature\";q();U();W();var P=c=>{let t=c.redirectRoute;t&&h(t)},mn=({sendSignedTransactionsAsync:c=A})=>{let t=m(w),n=m(M),r=F(!1),a=B(),S=()=>{a(b()),r.current=!1};function j(){return g(this,null,function*(){var f;let k=Object.keys(n);for(let e of k){let o=n==null?void 0:n[e],x=(f=o==null?void 0:o.customTransactionInformation)==null?void 0:f.signWithoutSending;if(!e||x){P(o);continue}try{if(!(n[e].status===\"signed\"&&!r.current))continue;let{transactions:i}=n[e];if(!i)continue;r.current=!0;let C=i.map(s=>{let H=new G(s.sender),p=I(s),N=new J(s.signature);return p.applySignature(N,H),p}),O=yield c(C),v=\"pending\",D=i.map(s=>O.includes(s.hash)?T(l({},s),{status:v}):s);a(R({sessionId:e,submittedMessage:\"submitted\"})),a(u({sessionId:e,status:\"sent\",transactions:D})),S(),E(t.nonce+i.length),P(o),history.pushState({},document.title,\"?\")}catch(d){console.error(\"Unable to send transactions\",d),a(u({sessionId:e,status:\"fail\",errorMessage:d.message})),S()}finally{r.current=!1}}})}return z(()=>{j()},[n,t]),null};export{mn as a};\n//# sourceMappingURL=chunk-J57G2YPG.js.map\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}