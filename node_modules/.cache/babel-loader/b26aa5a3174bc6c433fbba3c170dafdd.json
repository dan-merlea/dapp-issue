{"ast":null,"code":"import _objectSpread from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{Container}from'.';import{Text}from'gui/uielements';import{isMobile}from'react-device-detect';import{jsx as _jsx}from\"react/jsx-runtime\";var ANNOUNCE_LIFETIME=3000;var ANNOUNCE_ANIM_TICK=50;var TICK=ANNOUNCE_ANIM_TICK/ANNOUNCE_LIFETIME;/**\n * Render the players count.\n */export var Announce=/*#__PURE__*/React.memo(function(props){var announce=props.announce,style=props.style;var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),opacity=_React$useState2[0],setOpacity=_React$useState2[1];var _React$useState3=React.useState('none'),_React$useState4=_slicedToArray(_React$useState3,2),display=_React$useState4[0],setDisplay=_React$useState4[1];// Whenever the announce changes\nReact.useEffect(function(){setOpacity(1);setDisplay('flex');var startedAt=Date.now();// Calculate how much we must take off each tick\nvar intervalId=setInterval(function(){// Animation ended\nvar delta=Date.now()-startedAt;if(delta>ANNOUNCE_LIFETIME){setOpacity(0);setDisplay('none');clearInterval(intervalId);return;}setOpacity(function(prev){return prev-TICK;});},ANNOUNCE_ANIM_TICK);},[announce]);if(!announce||!announce.length){return null;}return/*#__PURE__*/_jsx(Container,{style:_objectSpread(_objectSpread(_objectSpread({},styles.announce),style),{},{opacity:opacity,display:display}),children:/*#__PURE__*/_jsx(Text,{type:\"body\",style:styles.announceText,children:announce})});});var styles={announce:{},announceText:{color:'white',fontSize:isMobile?16:24}};","map":null,"metadata":{},"sourceType":"module"}