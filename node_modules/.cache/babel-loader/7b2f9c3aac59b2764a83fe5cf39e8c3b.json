{"ast":null,"code":"import _classCallCheck from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Maths}from'@krogan/common';import{getCacheAsset}from'images/textures';import{Graphics,Sprite}from'pixi.js';/**\n * A sprite representing a shield\n */var ShieldSprite=/*#__PURE__*/function(_Sprite){_inherits(ShieldSprite,_Sprite);var _super=_createSuper(ShieldSprite);function ShieldSprite(shield,radius){var _this;_classCallCheck(this,ShieldSprite);_this=_super.call(this,getCacheAsset('shield'));_this.radius=void 0;_this.shield=void 0;_this.graphics=new Graphics();_this.radius=radius;_this.shield=shield;_this.width=radius*2;_this.height=radius*2;_this.anchor.set(0.5,0.5);shield.onChange=function(){console.log('[Shield][Update]');_this.adjustMask();_this.visible=_this.shield.effectiveness>0;};_this.adjustMask();_this.addChild(_this.graphics);_this.mask=_this.graphics;return _this;}_createClass(ShieldSprite,[{key:\"adjustMask\",value:function adjustMask(){this.graphics.clear();this.graphics.lineStyle(0,0xFF0000,1);this.graphics.beginFill(0xFF0000);this.graphics.moveTo(0,0);var leftAngle=this.shield.angle-this.shield.size/2;var leftPos=Maths.vectorFromAngle(leftAngle,this.radius*5);this.graphics.lineTo(leftPos.x,leftPos.y);var rightAngle=this.shield.angle+this.shield.size/2;var rightPos=Maths.vectorFromAngle(rightAngle,this.radius*5);this.graphics.lineTo(rightPos.x,rightPos.y);this.graphics.lineTo(0,0);this.graphics.endFill();}}]);return ShieldSprite;}(Sprite);export{ShieldSprite as default};","map":null,"metadata":{},"sourceType":"module"}