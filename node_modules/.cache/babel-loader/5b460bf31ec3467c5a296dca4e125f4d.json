{"ast":null,"code":"import _slicedToArray from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'@krogan/common/src/extensions';import React,{useEffect,useState}from'react';import{NftCheckbox}from'gui/nft';import{Space,Button}from'gui/uielements';import{accountService}from'services/account.service';import{Constants}from'@krogan/common';import{useCoreContext}from'core';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var SelectNfts=function SelectNfts(_ref){var player=_ref.player,selected=_ref.selected;var _useCoreContext=useCoreContext(),account=_useCoreContext.account,address=_useCoreContext.address;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),nfts=_useState2[0],setNfts=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),selectedNfts=_useState4[0],setSelectedNfts=_useState4[1];var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),updateState=_React$useState2[1];var forceUpdate=React.useCallback(function(){return updateState({});},[]);var playerChanged=function playerChanged(){if(player&&account){accountService.fetchAccountNfts(address,Constants.KROGAN_MAIN).then(function(values){console.log(\"Account got \".concat(values.length,\" nfts\"));setNfts(values);});}};useEffect(playerChanged,[player]);// ACTIONS\nvar selectNft=function selectNft(nft){if(!nft.nonce)return;var copy=selectedNfts;if(copy.includes(nft.nonce)){copy.remove(nft.nonce);}else{copy.push(nft.nonce);}setSelectedNfts(copy);forceUpdate();console.log(selectedNfts);};var save=function save(){selected(selectedNfts);};return/*#__PURE__*/_jsxs(_Fragment,{children:[nfts.length==0&&/*#__PURE__*/_jsxs(\"p\",{children:[\"You do not own any Krogan NFTs. To play this game, you can purchase or rent one on \",/*#__PURE__*/_jsx(\"a\",{href:\"https://elrondnftswap.com\",children:\"our marketplace.\"})]}),nfts.map(function(nft,i){return/*#__PURE__*/_jsx(NftCheckbox,{nft:nft,selected:selectedNfts.includes(nft.nonce),onClick:selectNft},i);}),/*#__PURE__*/_jsx(Space,{size:\"s\"}),/*#__PURE__*/_jsx(Button,{text:\"Save\",onClick:save})]});};","map":null,"metadata":{},"sourceType":"module"}