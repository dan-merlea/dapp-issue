{"ast":null,"code":"import _regeneratorRuntime from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Maths}from'@krogan/common';import{getCacheSheet,getSpriteImage}from'images/textures';import{Container,MIPMAP_MODES,Sprite,Texture}from'pixi.js';var StarType;/**\n * A sprite representing a random star\n */(function(StarType){StarType[StarType[\"SmallStar\"]=1]=\"SmallStar\";StarType[StarType[\"MediumStar\"]=3]=\"MediumStar\";StarType[StarType[\"LargeStar\"]=5]=\"LargeStar\";StarType[StarType[\"XLStar\"]=17]=\"XLStar\";StarType[StarType[\"DustCloud\"]=50]=\"DustCloud\";})(StarType||(StarType={}));var StarSprite=/*#__PURE__*/function(_Container){_inherits(StarSprite,_Container);var _super=_createSuper(StarSprite);function StarSprite(position){var _this;_classCallCheck(this,StarSprite);_this=_super.call(this);_this.position.set(position.x,position.y);var alpha=Maths.getRandomInt(60,100);_this.alpha=alpha/100;_this.createRandomStar();return _this;}_createClass(StarSprite,[{key:\"createRandomStar\",value:function(){var _createRandomStar=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var size,i,_i,_i2,_i3,randSize,key,_texture,variation,randVariation,sheet,texture;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:size=[];for(i=0;i<25;i++){size.push(StarType.SmallStar);}for(_i=0;_i<15;_i++){size.push(StarType.MediumStar);}for(_i2=0;_i2<10;_i2++){size.push(StarType.LargeStar);}for(_i3=0;_i3<3;_i3++){size.push(StarType.XLStar);}size.push(StarType.DustCloud);randSize=size[Maths.getRandomInt(0,size.length-1)];key='';if(!(randSize==StarType.DustCloud)){_context.next=16;break;}_context.next=11;return this.loadCloudTexture(Maths.getRandomInt(1,22));case 11:_texture=_context.sent;this.createSprite(_texture);return _context.abrupt(\"return\");case 16:if(randSize==StarType.XLStar){key='star_special';}else{variation={1:3,3:6,5:12};randVariation=Maths.getRandomInt(1,variation[randSize]);key=\"star_\".concat(randSize,\"_\").concat(randVariation);}case 17:sheet=getCacheSheet('stars');texture=sheet.textures[key];this.createSprite(texture);case 20:case\"end\":return _context.stop();}}},_callee,this);}));function createRandomStar(){return _createRandomStar.apply(this,arguments);}return createRandomStar;}()},{key:\"createSprite\",value:function createSprite(texture){var sprite=new Sprite(texture);sprite.anchor.x=0.5;sprite.anchor.y=0.5;this.addChild(sprite);}},{key:\"loadCloudTexture\",value:function(){var _loadCloudTexture=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(index){var texture;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return Texture.fromURL(getSpriteImage(\"/environment/clouds/bg_blue_\".concat(index,\".png\")));case 2:texture=_context2.sent;texture.baseTexture.mipmap=MIPMAP_MODES.POW2;return _context2.abrupt(\"return\",texture);case 5:case\"end\":return _context2.stop();}}},_callee2);}));function loadCloudTexture(_x){return _loadCloudTexture.apply(this,arguments);}return loadCloudTexture;}()}]);return StarSprite;}(Container);export{StarSprite as default};","map":null,"metadata":{},"sourceType":"module"}