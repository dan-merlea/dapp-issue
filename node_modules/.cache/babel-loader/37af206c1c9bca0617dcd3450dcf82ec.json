{"ast":null,"code":"import _regeneratorRuntime from \"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _createForOfIteratorHelper from \"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _toConsumableArray from \"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport { a as C } from \"./chunk-VIPIFSB6.js\";\nimport { a as k } from \"./chunk-NKZ6LD7K.js\";\nimport { b as p } from \"./chunk-OI3KYR6B.js\";\nimport { a as D } from \"./chunk-TIUIZS3V.js\";\nimport { d as y } from \"./chunk-O537HDKP.js\";\nimport { b as I } from \"./chunk-V2DQWH6R.js\";\nimport { a as S } from \"./chunk-XV3YSWK4.js\";\nimport { a as b } from \"./chunk-NUJRD4RO.js\";\nimport { a } from \"./chunk-EIZTQXKB.js\";\nimport { a as O } from \"./chunk-X7UKRW56.js\";\nimport { g as N } from \"./chunk-UAY6IPFL.js\";\nimport { d as h } from \"./chunk-QCAG4H2G.js\";\nimport { c } from \"./chunk-MNUBSRZF.js\";\nimport { c as g, s as M } from \"./chunk-GIDQTNXG.js\";\nimport { a as A } from \"./chunk-DDYBZOX4.js\";\nimport { n as u } from \"./chunk-FC3CZOOQ.js\";\nimport { j as d, m as T } from \"./chunk-HBP5N4FR.js\";\nT();\nimport x from \"axios\";\nimport $ from \"bignumber.js\";\nM();\nO();\nA();\nfunction B(e) {\n  var o = [];\n  return e.forEach(function (s) {\n    var t = s.getData().toString(),\n      f = t.startsWith(\"ESDTNFTTransfer\");\n    t.startsWith(\"MultiESDTNFTTransfer\") && (o = _toConsumableArray(S(t).filter(function (r) {\n      return Boolean(r.nonce);\n    }).map(function (r) {\n      return \"\".concat(r.token, \"-\").concat(r.nonce);\n    }))), f && o.push(b(t).tokenId);\n  }), o;\n}\nvar G = function G(e) {\n  return d(void 0, null, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    var _k, o, _iterator, _step, s;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _k = k(), o = _k.apiAddress;\n            _iterator = _createForOfIteratorHelper(e);\n            _context.prev = 2;\n            _iterator.s();\n          case 4:\n            if ((_step = _iterator.n()).done) {\n              _context.next = 18;\n              break;\n            }\n            s = _step.value;\n            _context.prev = 6;\n            _context.next = 9;\n            return x.get(\"\".concat(o, \"/\").concat(u, \"/\").concat(s));\n          case 9:\n            if (!_context.sent.data.isTransferAffected) {\n              _context.next = 11;\n              break;\n            }\n            return _context.abrupt(\"return\", !0);\n          case 11:\n            _context.next = 16;\n            break;\n          case 13:\n            _context.prev = 13;\n            _context.t0 = _context[\"catch\"](6);\n            return _context.abrupt(\"return\", (console.error(\"NFT not found\", _context.t0), !1));\n          case 16:\n            _context.next = 4;\n            break;\n          case 18:\n            _context.next = 23;\n            break;\n          case 20:\n            _context.prev = 20;\n            _context.t1 = _context[\"catch\"](2);\n            _iterator.e(_context.t1);\n          case 23:\n            _context.prev = 23;\n            _iterator.f();\n            return _context.finish(23);\n          case 26:\n            return _context.abrupt(\"return\", !1);\n          case 27:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[2, 20, 23, 26], [6, 13]]);\n  }));\n};\nfunction lt(W) {\n  return d(this, arguments, /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_ref) {\n    var e, o, _ref$minGasLimit, s, t, f, r, l, m, E, i, w, F, P, n, _n, _n2, v;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            e = _ref.transactions, o = _ref.callbackRoute, _ref$minGasLimit = _ref.minGasLimit, s = _ref$minGasLimit === void 0 ? g : _ref$minGasLimit, t = _ref.customTransactionInformation, f = _ref.transactionsDisplayInfo;\n            r = a.getState(), l = Date.now().toString(), m = y(r), E = I(r), i = Array.isArray(e) ? e : [e], w = C(i, s), F = new $(D(m) ? m : \"0\").minus(w).isGreaterThan(0), P = B(i);\n            _context2.next = 4;\n            return G(P);\n          case 4:\n            if (!_context2.sent) {\n              _context2.next = 7;\n              break;\n            }\n            n = {\n              type: \"error\",\n              iconClassName: \"text-danger\",\n              title: \"An error occurred\",\n              description: \"One of the selected tokens is temporarily immovable due to a pending ESDT protocol upgrade being deployed on October 19th. Please check again later.\"\n            };\n            return _context2.abrupt(\"return\", (a.dispatch(c(n)), {\n              error: \"token non transferable\",\n              sessionId: null\n            }));\n          case 7:\n            if (F) {\n              _context2.next = 10;\n              break;\n            }\n            _n = {\n              type: \"warning\",\n              iconClassName: p.textWarning,\n              title: \"Insufficient EGLD funds\",\n              description: \"Current EGLD balance cannot cover the transaction fees.\"\n            };\n            return _context2.abrupt(\"return\", (a.dispatch(c(_n)), {\n              error: \"insufficient funds\",\n              sessionId: null\n            }));\n          case 10:\n            if (i == null ? void 0 : i.every(function (n) {\n              return n.getChainID().valueOf() === E.valueOf();\n            })) {\n              _context2.next = 13;\n              break;\n            }\n            _n2 = {\n              type: \"warning\",\n              iconClassName: p.textWarning,\n              title: \"Network change detected\",\n              description: \"The application tried to change the transaction network\"\n            };\n            return _context2.abrupt(\"return\", (a.dispatch(c(_n2)), {\n              error: \"Invalid ChainID\",\n              sessionId: null\n            }));\n          case 13:\n            v = {\n              sessionId: l,\n              callbackRoute: o,\n              customTransactionInformation: t,\n              transactions: i.map(function (n) {\n                return n.toPlainObject();\n              })\n            };\n            return _context2.abrupt(\"return\", (a.dispatch(h(v)), a.dispatch(N({\n              sessionId: l,\n              transactionsDisplayInfo: f\n            })), {\n              sessionId: l\n            }));\n          case 15:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n}\nexport { lt as a };","map":{"version":3,"names":["a","C","k","b","p","D","d","y","I","S","O","g","N","h","c","s","M","A","n","u","j","m","T","x","$","B","e","o","forEach","t","getData","toString","f","startsWith","filter","r","Boolean","nonce","map","token","push","tokenId","G","apiAddress","get","data","isTransferAffected","console","error","lt","W","arguments","transactions","callbackRoute","minGasLimit","customTransactionInformation","transactionsDisplayInfo","getState","l","Date","now","E","i","Array","isArray","w","F","minus","isGreaterThan","P","type","iconClassName","title","description","dispatch","sessionId","textWarning","every","getChainID","valueOf","v","toPlainObject"],"sources":["/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@elrondnetwork/dapp-core/__chunks__/chunk-VVDDYR4K.js"],"sourcesContent":["import{a as C}from\"./chunk-VIPIFSB6.js\";import{a as k}from\"./chunk-NKZ6LD7K.js\";import{b as p}from\"./chunk-OI3KYR6B.js\";import{a as D}from\"./chunk-TIUIZS3V.js\";import{d as y}from\"./chunk-O537HDKP.js\";import{b as I}from\"./chunk-V2DQWH6R.js\";import{a as S}from\"./chunk-XV3YSWK4.js\";import{a as b}from\"./chunk-NUJRD4RO.js\";import{a}from\"./chunk-EIZTQXKB.js\";import{a as O}from\"./chunk-X7UKRW56.js\";import{g as N}from\"./chunk-UAY6IPFL.js\";import{d as h}from\"./chunk-QCAG4H2G.js\";import{c}from\"./chunk-MNUBSRZF.js\";import{c as g,s as M}from\"./chunk-GIDQTNXG.js\";import{a as A}from\"./chunk-DDYBZOX4.js\";import{n as u}from\"./chunk-FC3CZOOQ.js\";import{j as d,m as T}from\"./chunk-HBP5N4FR.js\";T();import x from\"axios\";import $ from\"bignumber.js\";M();O();A();function B(e){let o=[];return e.forEach(s=>{let t=s.getData().toString(),f=t.startsWith(\"ESDTNFTTransfer\");t.startsWith(\"MultiESDTNFTTransfer\")&&(o=[...S(t).filter(r=>Boolean(r.nonce)).map(r=>`${r.token}-${r.nonce}`)]),f&&o.push(b(t).tokenId)}),o}var G=e=>d(void 0,null,function*(){let{apiAddress:o}=k();for(let s of e)try{if((yield x.get(`${o}/${u}/${s}`)).data.isTransferAffected)return!0}catch(t){return console.error(\"NFT not found\",t),!1}return!1});function lt(W){return d(this,arguments,function*({transactions:e,callbackRoute:o,minGasLimit:s=g,customTransactionInformation:t,transactionsDisplayInfo:f}){let r=a.getState(),l=Date.now().toString(),m=y(r),E=I(r),i=Array.isArray(e)?e:[e],w=C(i,s),F=new $(D(m)?m:\"0\").minus(w).isGreaterThan(0),P=B(i);if(yield G(P)){let n={type:\"error\",iconClassName:\"text-danger\",title:\"An error occurred\",description:\"One of the selected tokens is temporarily immovable due to a pending ESDT protocol upgrade being deployed on October 19th. Please check again later.\"};return a.dispatch(c(n)),{error:\"token non transferable\",sessionId:null}}if(!F){let n={type:\"warning\",iconClassName:p.textWarning,title:\"Insufficient EGLD funds\",description:\"Current EGLD balance cannot cover the transaction fees.\"};return a.dispatch(c(n)),{error:\"insufficient funds\",sessionId:null}}if(!(i==null?void 0:i.every(n=>n.getChainID().valueOf()===E.valueOf()))){let n={type:\"warning\",iconClassName:p.textWarning,title:\"Network change detected\",description:\"The application tried to change the transaction network\"};return a.dispatch(c(n)),{error:\"Invalid ChainID\",sessionId:null}}let v={sessionId:l,callbackRoute:o,customTransactionInformation:t,transactions:i.map(n=>n.toPlainObject())};return a.dispatch(h(v)),a.dispatch(N({sessionId:l,transactionsDisplayInfo:f})),{sessionId:l}})}export{lt as a};\n//# sourceMappingURL=chunk-VVDDYR4K.js.map\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}