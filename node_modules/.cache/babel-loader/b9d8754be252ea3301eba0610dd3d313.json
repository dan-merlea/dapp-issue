{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\nvar _classCallCheck = require(\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/createClass.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.KeyValueStorage = void 0;\nvar tslib_1 = require(\"tslib\");\nvar localStorage_1 = tslib_1.__importDefault(require(\"localStorage\"));\nvar safe_json_utils_1 = require(\"safe-json-utils\");\nvar shared_1 = require(\"../shared\");\nvar KeyValueStorage = /*#__PURE__*/function () {\n  function KeyValueStorage() {\n    _classCallCheck(this, KeyValueStorage);\n    this.localStorage = localStorage_1.default;\n  }\n  _createClass(KeyValueStorage, [{\n    key: \"getKeys\",\n    value: function getKeys() {\n      return tslib_1.__awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", Object.keys(this.localStorage));\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n    }\n  }, {\n    key: \"getEntries\",\n    value: function getEntries() {\n      return tslib_1.__awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", Object.entries(this.localStorage).map(shared_1.parseEntry));\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem(key) {\n      return tslib_1.__awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var item;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                item = this.localStorage.getItem(key);\n                if (!(item === null)) {\n                  _context3.next = 3;\n                  break;\n                }\n                return _context3.abrupt(\"return\", undefined);\n              case 3:\n                return _context3.abrupt(\"return\", safe_json_utils_1.safeJsonParse(item));\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n    }\n  }, {\n    key: \"setItem\",\n    value: function setItem(key, value) {\n      return tslib_1.__awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                this.localStorage.setItem(key, safe_json_utils_1.safeJsonStringify(value));\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n    }\n  }, {\n    key: \"removeItem\",\n    value: function removeItem(key) {\n      return tslib_1.__awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                this.localStorage.removeItem(key);\n              case 1:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n    }\n  }]);\n  return KeyValueStorage;\n}();\nexports.KeyValueStorage = KeyValueStorage;\nexports.default = KeyValueStorage;","map":{"version":3,"sources":["../../../src/browser/index.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,IAAA,cAAA,GAAA,OAAA,CAAA,eAAA,CAAA,OAAA,CAAA,cAAA,CAAA,CAAA;AACA,IAAA,iBAAA,GAAA,OAAA,CAAA,iBAAA,CAAA;AAEA,IAAA,QAAA,GAAA,OAAA,CAAA,WAAA,CAAA;AAAyD,IAE5C,eAAe;EAA5B,2BAAA;IAAA;IACmB,IAAA,CAAA,YAAY,GAAY,cAAA,CAAA,OAAY;EA0BvD;EAAC;IAAA;IAAA,OAxBc,mBAAO;;;;;;iDACX,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CACtC,EAAA;;EAAA;IAAA;IAAA,OAEY,sBAAU;;;;;;kDACd,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,GAAG,CAAC,QAAA,CAAA,UAAU,CAAC;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CACzD,EAAA;;EAAA;IAAA;IAAA,OAEY,iBAAiB,GAAW,EAAA;;;;;;;gBACjC,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC;gBAAA,MACvC,IAAI,KAAK,IAAI;kBAAA;kBAAA;gBAAA;gBAAA,kCACR,SAAS;cAAA;gBAAA,kCAGX,iBAAA,CAAA,aAAa,CAAC,IAAI,CAAM;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAChC,EAAA;;EAAA;IAAA;IAAA,OAEY,iBAAiB,GAAW,EAAE,KAAQ,EAAA;;;;;;gBACjD,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,EAAE,iBAAA,CAAA,iBAAiB,CAAC,KAAK,CAAC,CAAC;cAAC;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAC1D,EAAA;;EAAA;IAAA;IAAA,OAEY,oBAAW,GAAW,EAAA;;;;;;gBACjC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,GAAG,CAAC;cAAC;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CACnC,EAAA;;EAAA;EAAA;AAAA;AA1BH,OAAA,CAAA,eAAA,GAAA,eAAA;AA6BA,OAAA,CAAA,OAAA,GAAe,eAAe","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KeyValueStorage = void 0;\nconst tslib_1 = require(\"tslib\");\nconst localStorage_1 = tslib_1.__importDefault(require(\"localStorage\"));\nconst safe_json_utils_1 = require(\"safe-json-utils\");\nconst shared_1 = require(\"../shared\");\nclass KeyValueStorage {\n    constructor() {\n        this.localStorage = localStorage_1.default;\n    }\n    getKeys() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            return Object.keys(this.localStorage);\n        });\n    }\n    getEntries() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            return Object.entries(this.localStorage).map(shared_1.parseEntry);\n        });\n    }\n    getItem(key) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const item = this.localStorage.getItem(key);\n            if (item === null) {\n                return undefined;\n            }\n            return safe_json_utils_1.safeJsonParse(item);\n        });\n    }\n    setItem(key, value) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.localStorage.setItem(key, safe_json_utils_1.safeJsonStringify(value));\n        });\n    }\n    removeItem(key) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.localStorage.removeItem(key);\n        });\n    }\n}\nexports.KeyValueStorage = KeyValueStorage;\nexports.default = KeyValueStorage;\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}