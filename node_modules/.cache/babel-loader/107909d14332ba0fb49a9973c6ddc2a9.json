{"ast":null,"code":"import { b as f } from \"./chunk-CPSRFBWX.js\";\nimport { a as h } from \"./chunk-4VDFQTIQ.js\";\nimport { a as i, b as B } from \"./chunk-XZ57HGZG.js\";\nimport { a as A } from \"./chunk-ZU6LXEUO.js\";\nimport { a as S } from \"./chunk-VTMJ7INI.js\";\nimport { m as b } from \"./chunk-HBP5N4FR.js\";\nb();\nA();\nimport u, { useEffect as C, useMemo as O, useRef as g } from \"react\";\nimport _ from \"classnames\";\nB();\nvar m = \"toastProgress\",\n  j = function j(_ref) {\n    var s = _ref.id,\n      p = _ref.children,\n      r = _ref.progress,\n      x = _ref.done,\n      _ref$expiresIn = _ref.expiresIn,\n      I = _ref$expiresIn === void 0 ? 10 * 60 : _ref$expiresIn,\n      _ref$className = _ref.className,\n      N = _ref$className === void 0 ? \"dapp-progress\" : _ref$className;\n    var y = O(function () {\n        var e = r ? r.endTime - r.startTime : 0,\n          n = i.session.getItem(m),\n          d = Math.floor(Date.now() / 1e3),\n          o = r ? (r.endTime - d) * 100 / e : 0;\n        return {\n          currentRemaining: n && s in n ? n[s] : o,\n          totalSeconds: e\n        };\n      }, []),\n      F = y.totalSeconds,\n      w = y.currentRemaining,\n      t = g(null),\n      a = g(),\n      c = g(w);\n    C(function () {\n      if (r != null) return x ? M() : D(), function () {\n        clearInterval(a.current);\n      };\n    }, [r, x]);\n    function E() {\n      var e = i.session.getItem(m);\n      !Boolean(e == null ? void 0 : e[s]) || (delete e[s], v(e));\n    }\n    function T(e) {\n      var n = i.session.getItem(m) || {};\n      n[s] = e, v(n);\n    }\n    function v(e) {\n      i.session.setItem({\n        key: m,\n        data: e,\n        expires: S(I)\n      });\n    }\n    function M() {\n      a.current = setInterval(function () {\n        if (t.current == null) return;\n        var n = c.current - 1;\n        n <= 0 ? (clearInterval(a.current), E(), l(0)) : (T(n), l(n));\n      }, 5);\n    }\n    function D() {\n      var n = F / 90,\n        d = parseFloat(n.toFixed(2)) * 1e3;\n      a.current = setInterval(function () {\n        if (t.current == null) return;\n        var o = c.current,\n          P = o > 100 - 90 ? 1 : h(o),\n          R = o - P;\n        T(R), l(R);\n      }, d);\n    }\n    function l(e) {\n      c.current = e, W();\n    }\n    function W() {\n      if (t.current == null) return;\n      var e = c.current;\n      t.current.style.width = \"\".concat(e, \"%\"), t.current.ariaValueNow = e;\n    }\n    return r ? u.createElement(\"div\", {\n      className: _(f.progress, N)\n    }, u.createElement(\"div\", {\n      ref: t,\n      role: \"progressbar\",\n      \"aria-valuemin\": 0,\n      \"aria-valuemax\": 100,\n      className: f.bar\n    }), p) : u.createElement(u.Fragment, null, p);\n  };\nexport { j as a };","map":null,"metadata":{},"sourceType":"module"}