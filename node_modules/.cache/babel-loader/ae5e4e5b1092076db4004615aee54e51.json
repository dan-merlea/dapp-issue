{"ast":null,"code":"import _regeneratorRuntime from \"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _slicedToArray from \"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { a as T } from \"./chunk-LPXTFZID.js\";\nimport { c as w } from \"./chunk-HJKYSMBV.js\";\nimport { c as f, d as y } from \"./chunk-HXERYGOO.js\";\nimport { g as u } from \"./chunk-V2DQWH6R.js\";\nimport { a as M } from \"./chunk-E37GJNPW.js\";\nimport { e as m, g as d } from \"./chunk-K45F7SFK.js\";\nimport { g as L, h } from \"./chunk-C32UB6VS.js\";\nimport { a as l, b as c, j as g, m as p } from \"./chunk-HBP5N4FR.js\";\np();\nh();\nimport { useState as W } from \"react\";\nM();\nvar B = function B(_ref) {\n  var b = _ref.callbackRoute,\n    e = _ref.token,\n    _ref$redirectDelayMil = _ref.redirectDelayMilliseconds,\n    I = _ref$redirectDelayMil === void 0 ? 100 : _ref$redirectDelayMil;\n  var _W = W(\"\"),\n    _W2 = _slicedToArray(_W, 2),\n    n = _W2[0],\n    k = _W2[1],\n    _W3 = W(!1),\n    _W4 = _slicedToArray(_W3, 2),\n    D = _W4[0],\n    i = _W4[1],\n    R = y(u),\n    r = f(),\n    s = T();\n  function U() {\n    return g(this, null, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var o, a, S, x, E;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!s) {\n                _context.next = 2;\n                break;\n              }\n              throw new Error(L);\n            case 2:\n              _context.prev = 2;\n              i(!0);\n              o = w(R.walletAddress), a = new Date(), S = a.setMinutes(a.getMinutes() + 3) / 1e3;\n              r(d({\n                data: {},\n                expires: S\n              })), e && r(m({\n                loginToken: e\n              }));\n              x = encodeURIComponent(\"\".concat(window.location.origin).concat(b)), E = c(l({\n                callbackUrl: x\n              }, e && {\n                token: e\n              }), {\n                redirectDelayMilliseconds: I\n              });\n              _context.next = 9;\n              return o.login(E);\n            case 9:\n              _context.next = 14;\n              break;\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](2);\n              console.error(_context.t0), k(\"error logging in\" + _context.t0.message);\n            case 14:\n              _context.prev = 14;\n              i(!1);\n              return _context.finish(14);\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 11, 14, 17]]);\n    }));\n  }\n  var t = Boolean(n);\n  return [U, {\n    error: n,\n    loginFailed: t,\n    isLoading: D && !t,\n    isLoggedIn: s && !t\n  }];\n};\nexport { B as a };","map":null,"metadata":{},"sourceType":"module"}