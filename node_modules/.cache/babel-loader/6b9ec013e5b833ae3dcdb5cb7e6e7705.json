{"ast":null,"code":"import _regeneratorRuntime from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _get from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/get.js\";import _getPrototypeOf from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";import _inherits from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Constants}from'@krogan/common';import{Graphics,Sprite}from'pixi.js';import AsyncSprite from'sprites/util/AsyncSprite';import{clientUrl}from'utils/server';/**\n * A sprite representing a random star\n */var StarbaseSprite=/*#__PURE__*/function(_AsyncSprite){_inherits(StarbaseSprite,_AsyncSprite);var _super=_createSuper(StarbaseSprite);function StarbaseSprite(starbase){var _this;_classCallCheck(this,StarbaseSprite);_this=_super.call(this,clientUrl()+\"/sprites/starbase/\".concat(starbase.type,\"/base.png\"));_this.starbase=void 0;_this.starbase=starbase;return _this;}_createClass(StarbaseSprite,[{key:\"onTextureLoad\",value:function onTextureLoad(texture){_get(_getPrototypeOf(StarbaseSprite.prototype),\"onTextureLoad\",this).call(this,texture);var sprite=new Sprite(texture);sprite.anchor.x=0.5;sprite.anchor.y=0.5;sprite.angle=this.starbase.position.angle;sprite.width=this.starbase.radius*2;sprite.height=this.starbase.radius*2;this.spriteCreated(sprite);this.addModules();if(Constants.DEBUG){var bounds=new Graphics();bounds.lineStyle(0.5,0xff00ff);bounds.drawCircle(0,0,this.starbase.radius);bounds.endFill();this.addChild(bounds);}this.position.set(this.starbase.position.x,this.starbase.position.y);}},{key:\"addModules\",value:function(){var _addModules=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var i,module,texture,sprite;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:i=0;case 1:if(!(i<this.starbase.modules.length)){_context.next=16;break;}module=this.starbase.modules[i];_context.next=5;return AsyncSprite.loadTexture(clientUrl()+\"/sprites/starbase/\".concat(this.starbase.type,\"/\").concat(module.level,\".png\"));case 5:texture=_context.sent;sprite=new Sprite(texture);sprite.anchor.x=0.5;sprite.anchor.y=1;sprite.pivot.y=this.starbase.radius;sprite.angle=90*module.position;this.addChild(sprite);console.log(sprite);case 13:i++;_context.next=1;break;case 16:case\"end\":return _context.stop();}}},_callee,this);}));function addModules(){return _addModules.apply(this,arguments);}return addModules;}()}]);return StarbaseSprite;}(AsyncSprite);export{StarbaseSprite as default};","map":null,"metadata":{},"sourceType":"module"}