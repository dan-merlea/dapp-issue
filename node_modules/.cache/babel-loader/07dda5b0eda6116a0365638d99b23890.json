{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/merlea/Development/Crypto/Krogan/dapp-issue/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/merlea/Development/Crypto/Krogan/dapp-issue/node_modules/@babel/runtime/helpers/createClass.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EndpointParameterDefinition = exports.EndpointModifiers = exports.EndpointDefinition = void 0;\nvar typeExpressionParser_1 = require(\"./typeExpressionParser\");\nvar NamePlaceholder = \"?\";\nvar DescriptionPlaceholder = \"N / A\";\nvar EndpointDefinition = /*#__PURE__*/function () {\n  function EndpointDefinition(name, input, output, modifiers) {\n    _classCallCheck(this, EndpointDefinition);\n    this.input = [];\n    this.output = [];\n    this.name = name;\n    this.input = input || [];\n    this.output = output || [];\n    this.modifiers = modifiers;\n  }\n  _createClass(EndpointDefinition, [{\n    key: \"isConstructor\",\n    value: function isConstructor() {\n      return this.name == \"constructor\";\n    }\n  }], [{\n    key: \"fromJSON\",\n    value: function fromJSON(json) {\n      json.name = json.name == null ? NamePlaceholder : json.name;\n      json.payableInTokens = json.payableInTokens || [];\n      json.inputs = json.inputs || [];\n      json.outputs = json.outputs || [];\n      var input = json.inputs.map(function (param) {\n        return EndpointParameterDefinition.fromJSON(param);\n      });\n      var output = json.outputs.map(function (param) {\n        return EndpointParameterDefinition.fromJSON(param);\n      });\n      var modifiers = new EndpointModifiers(json.mutability, json.payableInTokens);\n      return new EndpointDefinition(json.name, input, output, modifiers);\n    }\n  }]);\n  return EndpointDefinition;\n}();\nexports.EndpointDefinition = EndpointDefinition;\nvar EndpointModifiers = /*#__PURE__*/function () {\n  function EndpointModifiers(mutability, payableInTokens) {\n    _classCallCheck(this, EndpointModifiers);\n    this.mutability = mutability || \"\";\n    this.payableInTokens = payableInTokens || [];\n  }\n  _createClass(EndpointModifiers, [{\n    key: \"isPayableInEGLD\",\n    value: function isPayableInEGLD() {\n      return this.isPayableInToken(\"EGLD\");\n    }\n  }, {\n    key: \"isPayableInToken\",\n    value: function isPayableInToken(token) {\n      if (this.payableInTokens.includes(token)) {\n        return true;\n      }\n      if (this.payableInTokens.includes(\"!\".concat(token))) {\n        return false;\n      }\n      if (this.payableInTokens.includes(\"*\")) {\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: \"isPayable\",\n    value: function isPayable() {\n      return this.payableInTokens.length != 0;\n    }\n  }, {\n    key: \"isReadonly\",\n    value: function isReadonly() {\n      return this.mutability == \"readonly\";\n    }\n  }]);\n  return EndpointModifiers;\n}();\nexports.EndpointModifiers = EndpointModifiers;\nvar EndpointParameterDefinition = /*#__PURE__*/function () {\n  function EndpointParameterDefinition(name, description, type) {\n    _classCallCheck(this, EndpointParameterDefinition);\n    this.name = name;\n    this.description = description;\n    this.type = type;\n  }\n  _createClass(EndpointParameterDefinition, null, [{\n    key: \"fromJSON\",\n    value: function fromJSON(json) {\n      var parsedType = new typeExpressionParser_1.TypeExpressionParser().parse(json.type);\n      return new EndpointParameterDefinition(json.name || NamePlaceholder, json.description || DescriptionPlaceholder, parsedType);\n    }\n  }]);\n  return EndpointParameterDefinition;\n}();\nexports.EndpointParameterDefinition = EndpointParameterDefinition;","map":{"version":3,"mappings":"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","names":["NamePlaceholder","DescriptionPlaceholder","EndpointDefinition","name","input","output","modifiers","json","payableInTokens","inputs","outputs","map","EndpointParameterDefinition","fromJSON","param","EndpointModifiers","mutability","exports","isPayableInToken","token","includes","length","description","type","parsedType","typeExpressionParser_1","parse"],"sourceRoot":"","sources":["../../../src/smartcontracts/typesystem/endpoint.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}