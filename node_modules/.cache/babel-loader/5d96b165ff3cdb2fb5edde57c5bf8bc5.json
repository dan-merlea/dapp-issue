{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/merlea/Development/Crypto/Krogan/dapp-issue/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/merlea/Development/Crypto/Krogan/dapp-issue/node_modules/@babel/runtime/helpers/createClass.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ContractInterface = void 0;\nvar utils_1 = require(\"../../utils\");\nvar endpoint_1 = require(\"./endpoint\");\nvar NamePlaceholder = \"?\";\n/**\n * An Interace represents a (sub)set of endpoints (with their signatures included) defined by a contract.\n */\nvar ContractInterface = /*#__PURE__*/function () {\n  function ContractInterface(name, constructor_definition, endpoints) {\n    _classCallCheck(this, ContractInterface);\n    this.endpoints = [];\n    this.name = name;\n    this.constructorDefinition = constructor_definition;\n    this.endpoints = endpoints;\n  }\n  _createClass(ContractInterface, [{\n    key: \"getConstructorDefinition\",\n    value: function getConstructorDefinition() {\n      return this.constructorDefinition;\n    }\n  }, {\n    key: \"getEndpoint\",\n    value: function getEndpoint(name) {\n      var result = this.endpoints.find(function (e) {\n        return e.name == name;\n      });\n      utils_1.guardValueIsSetWithMessage(\"endpoint [\".concat(name, \"] not found\"), result);\n      return result;\n    }\n  }], [{\n    key: \"fromJSON\",\n    value: function fromJSON(json) {\n      json.name = json.name || NamePlaceholder;\n      json.endpoints = json.endpoints || [];\n      var constructorDefinition = constructorFromJSON(json);\n      var endpoints = json.endpoints.map(function (item) {\n        return endpoint_1.EndpointDefinition.fromJSON(item);\n      });\n      return new ContractInterface(json.name, constructorDefinition, endpoints);\n    }\n  }]);\n  return ContractInterface;\n}();\nexports.ContractInterface = ContractInterface;\nfunction constructorFromJSON(json) {\n  if (json.constructor.inputs === undefined || json.constructor.outputs === undefined) {\n    return null;\n  }\n  // the name will be missing, so we add it manually\n  var constructorWithName = Object.assign({\n    name: \"constructor\"\n  }, json.constructor);\n  return endpoint_1.EndpointDefinition.fromJSON(constructorWithName);\n}","map":{"version":3,"mappings":";;;;;;;;AAAA;AACA;AAEA,IAAMA,eAAe,GAAG,GAAG;AAE3B;;;AAAA,IAGaC,iBAAiB;EAK1B,2BAAYC,IAAY,EAAEC,sBAAiD,EAAEC,SAA+B;IAAA;IAFnG,cAAS,GAAyB,EAAE;IAGzC,IAAI,CAACF,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACG,qBAAqB,GAAGF,sBAAsB;IACnD,IAAI,CAACC,SAAS,GAAGA,SAAS;EAC9B;EAAC;IAAA;IAAA,OAWD,oCAAwB;MACpB,OAAO,IAAI,CAACC,qBAAqB;IACrC;EAAC;IAAA;IAAA,OAED,qBAAYH,IAAY;MACpB,IAAII,MAAM,GAAG,IAAI,CAACF,SAAS,CAACG,IAAI,CAAC,WAAC;QAAA,OAAIC,CAAC,CAACN,IAAI,IAAIA,IAAI;MAAA,EAAC;MACrDO,kCAA0B,qBAAcP,IAAI,kBAAeI,MAAM,CAAC;MAClE,OAAOA,MAAO;IAClB;EAAC;IAAA;IAAA,OAjBD,kBAAgBI,IAA0D;MACtEA,IAAI,CAACR,IAAI,GAAGQ,IAAI,CAACR,IAAI,IAAIF,eAAe;MACxCU,IAAI,CAACN,SAAS,GAAGM,IAAI,CAACN,SAAS,IAAI,EAAE;MAErC,IAAIC,qBAAqB,GAAGM,mBAAmB,CAACD,IAAI,CAAC;MACrD,IAAIN,SAAS,GAAGM,IAAI,CAACN,SAAS,CAACQ,GAAG,CAAC,cAAI;QAAA,OAAIC,6BAAkB,CAACC,QAAQ,CAACC,IAAI,CAAC;MAAA,EAAC;MAC7E,OAAO,IAAId,iBAAiB,CAACS,IAAI,CAACR,IAAI,EAAEG,qBAAqB,EAAED,SAAS,CAAC;IAC7E;EAAC;EAAA;AAAA;AAlBLY;AA+BA,SAASL,mBAAmB,CAACD,IAAS;EAClC,IAAIA,IAAI,CAACO,WAAW,CAACC,MAAM,KAAKC,SAAS,IAAIT,IAAI,CAACO,WAAW,CAACG,OAAO,KAAKD,SAAS,EAAE;IACjF,OAAO,IAAI;;EAGf;EACA,IAAIE,mBAAmB;IAAKnB,IAAI,EAAE;EAAa,GAAKQ,IAAI,CAACO,WAAW,CAAE;EAEtE,OAAOJ,6BAAkB,CAACC,QAAQ,CAACO,mBAAmB,CAAC;AAC3D","names":["NamePlaceholder","ContractInterface","name","constructor_definition","endpoints","constructorDefinition","result","find","e","utils_1","json","constructorFromJSON","map","endpoint_1","fromJSON","item","exports","constructor","inputs","undefined","outputs","constructorWithName"],"sourceRoot":"","sources":["../../../src/smartcontracts/typesystem/contractInterface.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}