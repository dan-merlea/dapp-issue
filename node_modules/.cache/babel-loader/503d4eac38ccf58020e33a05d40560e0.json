{"ast":null,"code":"import _regeneratorRuntime from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Constants,Entities}from'@krogan/common';import{StarbaseTexture}from'images/textures';import{Sprite,Texture}from'pixi.js';import{ClickableContainer}from'sprites/containers';var MapStarbaseSprite=/*#__PURE__*/function(_ClickableContainer){_inherits(MapStarbaseSprite,_ClickableContainer);var _super=_createSuper(MapStarbaseSprite);/**\n\t * MapStarbaseSprite handles position update by itself\n\t */function MapStarbaseSprite(hexWidth,starbase,onClick){var _this;_classCallCheck(this,MapStarbaseSprite);var onClickAction=onClick?function(elm){onClick(elm);}:undefined;_this=_super.call(this,MapStarbaseSprite.size/2,undefined,onClickAction);_this._starbase=void 0;_this._sprite=void 0;_this._hexWidth=void 0;_this._starbase=starbase;_this._hexWidth=hexWidth;_this.zIndex=100;_this.updatePosition();_this.createSprite();starbase.onChange=function(){console.log(\"[MapStarbase][OnChange] nonce \".concat(starbase.nonce));_this.updatePosition();};return _this;}_createClass(MapStarbaseSprite,[{key:\"createSprite\",value:function(){var _createSprite=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var texture;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:texture=Texture.from(StarbaseTexture);this._sprite=new Sprite(texture);this._sprite.anchor.x=0.5;this._sprite.anchor.y=0.5;this._sprite.angle=Constants.SPACESHIP_ROTATION;this.addChild(this._sprite);case 6:case\"end\":return _context.stop();}}},_callee,this);}));function createSprite(){return _createSprite.apply(this,arguments);}return createSprite;}()},{key:\"updatePosition\",value:function updatePosition(){this.x=Entities.worldToHex(this.starbase.position.x)*(this._hexWidth/2);this.y=Entities.worldToHex(this.starbase.position.y)*(this._hexWidth/2);this.angle=this.starbase.position.angle;}},{key:\"alignOnPath\",value:function alignOnPath(position){this.x=position.position.x;this.y=position.position.y;this.angle=position.angle;}},{key:\"starbase\",get:function get(){return this._starbase;}}]);return MapStarbaseSprite;}(ClickableContainer);MapStarbaseSprite.size=64;export{MapStarbaseSprite as default};","map":null,"metadata":{},"sourceType":"module"}