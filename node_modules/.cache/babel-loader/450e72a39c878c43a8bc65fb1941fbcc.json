{"ast":null,"code":"import _classCallCheck from \"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { Circle, Container, Point } from 'pixi.js';\nimport { Maths } from '@krogan/common';\nvar ClickableContainer = /*#__PURE__*/function (_Container) {\n  _inherits(ClickableContainer, _Container);\n  var _super = _createSuper(ClickableContainer);\n  // Actions\n\n  function ClickableContainer(radius, onHover, onClick) {\n    var _this;\n    _classCallCheck(this, ClickableContainer);\n    _this = _super.call(this);\n    _this._touchPoint = new Point();\n    _this._drag = false;\n    _this.interactive = true;\n    _this.cursor = 'pointer';\n    _this.hitArea = new Circle(0, 0, radius);\n    if (onHover) {\n      _this.on('pointerover', function () {\n        _this.zIndex = 99;\n        _this.setHover(true);\n        onHover(_assertThisInitialized(_this));\n      });\n      _this.on('pointerout', function () {\n        _this.zIndex = 0;\n        _this.setHover(false);\n      });\n    }\n    if (onClick) {\n      _this.on('pointerdown', function (e) {\n        e.stopPropagation();\n        _this._touchPoint = e.data.getLocalPosition(_this.parent);\n        _this._drag = false;\n      });\n      _this.on('pointermove', function (e) {\n        var point = e.data.getLocalPosition(_this.parent);\n        if (Maths.getDistance(_this._touchPoint.x, _this._touchPoint.y, point.x, point.y) > 5) {\n          _this._drag = true;\n        }\n      });\n      _this.on('pointerup', function () {\n        if (!_this._drag) onClick(_assertThisInitialized(_this));\n      });\n    }\n    return _this;\n  }\n\n  // override this\n  _createClass(ClickableContainer, [{\n    key: \"setHover\",\n    value: function setHover(hover) {\n      // do nothing\n    }\n  }]);\n  return ClickableContainer;\n}(Container);\nexport { ClickableContainer as default };","map":{"version":3,"names":["Circle","Container","Point","Maths","ClickableContainer","radius","onHover","onClick","_touchPoint","_drag","interactive","cursor","hitArea","on","zIndex","setHover","e","stopPropagation","data","getLocalPosition","parent","point","getDistance","x","y","hover"],"sources":["/Users/merlea/Development/Crypto/Krogan/kroganverse-com/packages/client/src/sprites/containers/ClickableContainer.ts"],"sourcesContent":["import { Circle, Container, InteractionEvent, Point } from 'pixi.js';\nimport { Maths } from '@krogan/common';\n\nexport default class ClickableContainer extends Container {\n\n    // Actions\n    private _touchPoint = new Point();\n    private _drag: boolean = false\n\n    constructor(radius: number, onHover?: (elm: ClickableContainer) => void, onClick?: (elm: ClickableContainer) => void) {\n        super()\n\n        this.interactive = true\n        this.cursor = 'pointer'\n        this.hitArea = new Circle(0, 0, radius)\n\n\t\tif (onHover) {\n\t\t\tthis.on('pointerover', () => {\n\t\t\t\tthis.zIndex = 99\n\t\t\t\tthis.setHover(true)\n\t\t\t\tonHover(this)\n\t\t\t})\n\t\n\t\t\tthis.on('pointerout', () => {\n\t\t\t\tthis.zIndex = 0\n\t\t\t\tthis.setHover(false)\n\t\t\t})\n\t\t}\n        \n\t\tif (onClick) {\n\t\t\tthis.on('pointerdown', (e: InteractionEvent) => {\n\t\t\t\te.stopPropagation()\n\t\t\t\tthis._touchPoint = e.data.getLocalPosition(this.parent)\n\t\t\t\tthis._drag = false\n\t\t\t})\n\t\n\t\t\tthis.on('pointermove', (e: InteractionEvent) => {\n\t\t\t\tconst point = e.data.getLocalPosition(this.parent)\n\t\t\t\tif (Maths.getDistance(this._touchPoint.x, this._touchPoint.y, point.x, point.y) > 5) {\n\t\t\t\t\tthis._drag = true\n\t\t\t\t}\n\t\t\t})\n\t\n\t\t\tthis.on('pointerup', () => {\n\t\t\t\tif (!this._drag)\n\t\t\t\t\tonClick(this)\n\t\t\t})\n\t\t}\n    }\n\n\t// override this\n\tsetHover(hover: boolean) {\n        // do nothing\n    }\n}\n"],"mappings":";;;;;AAAA,SAASA,MAAM,EAAEC,SAAS,EAAoBC,KAAK,QAAQ,SAAS;AACpE,SAASC,KAAK,QAAQ,gBAAgB;AAAC,IAElBC,kBAAkB;EAAA;EAAA;EAEnC;;EAIA,4BAAYC,MAAc,EAAEC,OAA2C,EAAEC,OAA2C,EAAE;IAAA;IAAA;IAClH;IAAO,MAJHC,WAAW,GAAG,IAAIN,KAAK,EAAE;IAAA,MACzBO,KAAK,GAAY,KAAK;IAK1B,MAAKC,WAAW,GAAG,IAAI;IACvB,MAAKC,MAAM,GAAG,SAAS;IACvB,MAAKC,OAAO,GAAG,IAAIZ,MAAM,CAAC,CAAC,EAAE,CAAC,EAAEK,MAAM,CAAC;IAE7C,IAAIC,OAAO,EAAE;MACZ,MAAKO,EAAE,CAAC,aAAa,EAAE,YAAM;QAC5B,MAAKC,MAAM,GAAG,EAAE;QAChB,MAAKC,QAAQ,CAAC,IAAI,CAAC;QACnBT,OAAO,+BAAM;MACd,CAAC,CAAC;MAEF,MAAKO,EAAE,CAAC,YAAY,EAAE,YAAM;QAC3B,MAAKC,MAAM,GAAG,CAAC;QACf,MAAKC,QAAQ,CAAC,KAAK,CAAC;MACrB,CAAC,CAAC;IACH;IAEA,IAAIR,OAAO,EAAE;MACZ,MAAKM,EAAE,CAAC,aAAa,EAAE,UAACG,CAAmB,EAAK;QAC/CA,CAAC,CAACC,eAAe,EAAE;QACnB,MAAKT,WAAW,GAAGQ,CAAC,CAACE,IAAI,CAACC,gBAAgB,CAAC,MAAKC,MAAM,CAAC;QACvD,MAAKX,KAAK,GAAG,KAAK;MACnB,CAAC,CAAC;MAEF,MAAKI,EAAE,CAAC,aAAa,EAAE,UAACG,CAAmB,EAAK;QAC/C,IAAMK,KAAK,GAAGL,CAAC,CAACE,IAAI,CAACC,gBAAgB,CAAC,MAAKC,MAAM,CAAC;QAClD,IAAIjB,KAAK,CAACmB,WAAW,CAAC,MAAKd,WAAW,CAACe,CAAC,EAAE,MAAKf,WAAW,CAACgB,CAAC,EAAEH,KAAK,CAACE,CAAC,EAAEF,KAAK,CAACG,CAAC,CAAC,GAAG,CAAC,EAAE;UACpF,MAAKf,KAAK,GAAG,IAAI;QAClB;MACD,CAAC,CAAC;MAEF,MAAKI,EAAE,CAAC,WAAW,EAAE,YAAM;QAC1B,IAAI,CAAC,MAAKJ,KAAK,EACdF,OAAO,+BAAM;MACf,CAAC,CAAC;IACH;IAAC;EACC;;EAEH;EAAA;IAAA;IAAA,OACA,kBAASkB,KAAc,EAAE;MAClB;IACJ;EAAC;EAAA;AAAA,EAlD2CxB,SAAS;AAAA,SAApCG,kBAAkB"},"metadata":{},"sourceType":"module"}