{"ast":null,"code":"import _regeneratorRuntime from \"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ExtensionType, utils, settings, extensions } from '@pixi/core';\nimport { LoaderParserPriority } from './LoaderParser.mjs';\nvar loadJson = {\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.Low\n  },\n  test: function test(url) {\n    return utils.path.extname(url).includes(\".json\");\n  },\n  load: function load(url) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var response, json;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return settings.ADAPTER.fetch(url);\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return response.json();\n            case 5:\n              json = _context.sent;\n              return _context.abrupt(\"return\", json);\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  }\n};\nextensions.add(loadJson);\nexport { loadJson };","map":{"version":3,"sources":["../../../src/loader/parsers/loadJson.ts"],"names":[],"mappings":";;;;AAMO,IAAM,QAAW,GAAA;EACpB,SAAW,EAAA;IACP,IAAA,EAAM,aAAc,CAAA,UAAA;IACpB,QAAA,EAAU,oBAAqB,CAAA;EAAA,CACnC;EAEA,IAAA,gBAAK,GACL,EAAA;IACI,OAAQ,KAAA,CAAM,IAAK,CAAA,OAAA,CAAQ,GAAG,CAAA,CAAE,QAAA,CAAS,OAAO,CAAA;EAAA,CACpD;EAEM,IAAA,gBAAQ,GACd,EAAA;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OAC2B,QAAS,CAAA,OAAA,CAAQ,KAAA,CAAM,GAAG,CAAA;YAAA;cAA3C,QAAW;cAAA;cAAA,OAEE,QAAA,CAAS,IAAK,EAAA;YAAA;cAA3B,IAAA;cAAA,iCAEC,IAAA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAAA;AAEf,CAAA;AAEA,UAAA,CAAW,GAAA,CAAI,QAAQ,CAAA","sourcesContent":["import { settings, utils, extensions, ExtensionType } from '@pixi/core';\nimport { LoaderParserPriority } from './LoaderParser';\n\nimport type { LoaderParser } from './LoaderParser';\n\n/** simple loader plugin for loading json data */\nexport const loadJson = {\n    extension: {\n        type: ExtensionType.LoadParser,\n        priority: LoaderParserPriority.Low,\n    },\n\n    test(url: string): boolean\n    {\n        return (utils.path.extname(url).includes('.json'));\n    },\n\n    async load<T>(url: string): Promise<T>\n    {\n        const response = await settings.ADAPTER.fetch(url);\n\n        const json = await response.json();\n\n        return json as T;\n    },\n} as LoaderParser;\n\nextensions.add(loadJson);\n"]},"metadata":{},"sourceType":"module"}