{"ast":null,"code":"import _regeneratorRuntime from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Constants,Entities}from'@krogan/common';import{Sprite}from'pixi.js';import{ClickableContainer}from'sprites/containers';import SpaceshipSprite from'sprites/game/SpaceshipSprite';var MapSpaceshipSprite=/*#__PURE__*/function(_ClickableContainer){_inherits(MapSpaceshipSprite,_ClickableContainer);var _super=_createSuper(MapSpaceshipSprite);/**\n\t * MapSpaceshipSprite handles position update by itself\n\t */function MapSpaceshipSprite(hexWidth,spaceship,onClick){var _this;_classCallCheck(this,MapSpaceshipSprite);var onClickAction=onClick?function(elm){onClick(elm);}:undefined;_this=_super.call(this,MapSpaceshipSprite.size/2,undefined,onClickAction);_this._spaceship=void 0;_this._sprite=void 0;_this._hexWidth=void 0;_this._spaceship=spaceship;_this._hexWidth=hexWidth;_this.zIndex=100;_this.updatePosition();_this.createSprite();spaceship.onChange=function(){console.log(\"[MapSpaceship][OnChange] nonce \".concat(spaceship.nonce));_this.updatePosition();};return _this;}_createClass(MapSpaceshipSprite,[{key:\"createSprite\",value:function(){var _createSprite=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var texture;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return SpaceshipSprite.loadSpaceshipTexture(this.spaceship);case 2:texture=_context.sent;this._sprite=new Sprite(texture);this._sprite.anchor.x=0.5;this._sprite.anchor.y=0.5;this._sprite.angle=Constants.SPACESHIP_ROTATION;this._sprite.width=MapSpaceshipSprite.size;this._sprite.height=MapSpaceshipSprite.size;this.addChild(this._sprite);case 10:case\"end\":return _context.stop();}}},_callee,this);}));function createSprite(){return _createSprite.apply(this,arguments);}return createSprite;}()},{key:\"updatePosition\",value:function updatePosition(){this.x=Entities.worldToHex(this.spaceship.position.x)*(this._hexWidth/2);this.y=Entities.worldToHex(this.spaceship.position.y)*(this._hexWidth/2);this.angle=this.spaceship.position.angle;}},{key:\"alignOnPath\",value:function alignOnPath(position){this.x=position.position.x;this.y=position.position.y;this.angle=position.angle;}},{key:\"spaceship\",get:function get(){return this._spaceship;}}]);return MapSpaceshipSprite;}(ClickableContainer);MapSpaceshipSprite.size=64;export{MapSpaceshipSprite as default};","map":null,"metadata":{},"sourceType":"module"}