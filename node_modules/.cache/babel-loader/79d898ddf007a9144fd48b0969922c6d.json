{"ast":null,"code":"import _regeneratorRuntime from \"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _slicedToArray from \"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { b as q } from \"./chunk-ESPFCMXW.js\";\nimport { a as U } from \"./chunk-PRCBLAI7.js\";\nimport { a as G } from \"./chunk-SADESKDF.js\";\nimport { a as P } from \"./chunk-DQ57PLDF.js\";\nimport { a as I } from \"./chunk-TXAITGIS.js\";\nimport { a as V } from \"./chunk-TOGDTRMX.js\";\nimport { b as F } from \"./chunk-MQJH3OH2.js\";\nimport { b as e } from \"./chunk-OI3KYR6B.js\";\nimport { a as Q, j as D, m as g } from \"./chunk-HBP5N4FR.js\";\ng();\nimport t, { useEffect as Z, useState as u } from \"react\";\nimport o from \"classnames\";\nimport fe from \"qrcode\";\ng();\nimport * as s from \"react\";\nvar ge = function ge(m) {\n    return s.createElement(\"svg\", Q({\n      xmlns: \"http://www.w3.org/2000/svg\",\n      xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n      viewBox: \"0 0 31.114 44.981\",\n      width: 16,\n      height: 16,\n      role: \"img\"\n    }, m), s.createElement(\"g\", {\n      transform: \"translate(-47.168 -21.519)\"\n    }, s.createElement(\"g\", {\n      transform: \"translate(-247.872 -130.693)\"\n    }, s.createElement(\"path\", {\n      d: \"M355.676,152.213l-3.832,17.8h-9.661Z\",\n      transform: \"translate(-40.089 1)\",\n      fillRule: \"evenodd\",\n      fill: \"#fff\"\n    }), s.createElement(\"path\", {\n      d: \"M326.45,271.184l-7.053,9.379H295.04l7.054-9.379Z\",\n      transform: \"translate(0 -101.17)\",\n      fillRule: \"evenodd\",\n      fill: \"#fff\"\n    }), s.createElement(\"path\", {\n      d: \"M381.139,333.864l-13.493,17.8,3.832-17.8Z\",\n      transform: \"translate(-61.742 -155.472)\",\n      fillRule: \"evenodd\",\n      fill: \"#fff\"\n    }))));\n  },\n  H = ge;\nvar Be = function Be(_ref) {\n  var m = _ref.callbackRoute,\n    _ = _ref.loginButtonText,\n    _ref$title = _ref.title,\n    y = _ref$title === void 0 ? \"Maiar Login\" : _ref$title,\n    _ref$logoutRoute = _ref.logoutRoute,\n    x = _ref$logoutRoute === void 0 ? \"/unlock\" : _ref$logoutRoute,\n    _ref$className = _ref.className,\n    f = _ref$className === void 0 ? \"dapp-wallet-connect-login-modal\" : _ref$className,\n    _ref$lead = _ref.lead,\n    j = _ref$lead === void 0 ? \"Scan the QR code using Maiar\" : _ref$lead,\n    _ref$legacyMessage = _ref.legacyMessage,\n    A = _ref$legacyMessage === void 0 ? \"Unable to login? Use the legacy version\" : _ref$legacyMessage,\n    _ref$wrapContentInsid = _ref.wrapContentInsideModal,\n    X = _ref$wrapContentInsid === void 0 ? !0 : _ref$wrapContentInsid,\n    _ref$isWalletConnectV = _ref.isWalletConnectV2,\n    C = _ref$isWalletConnectV === void 0 ? !1 : _ref$isWalletConnectV,\n    L = _ref.token,\n    p = _ref.onClose,\n    M = _ref.onLoginRedirect;\n  var B;\n  var _V = V({\n      logoutRoute: x,\n      callbackRoute: m,\n      token: L,\n      onLoginRedirect: M\n    }),\n    _V2 = _slicedToArray(_V, 3),\n    z = _V2[0],\n    w = _V2[1].error,\n    _V2$ = _V2[2],\n    J = _V2$.uriDeepLink,\n    v = _V2$.walletConnectUri,\n    K = _V2$.cancelLogin,\n    _F = F({\n      logoutRoute: x,\n      callbackRoute: m,\n      token: L,\n      onLoginRedirect: M\n    }),\n    _F2 = _slicedToArray(_F, 3),\n    O = _F2[0],\n    b = _F2[1].error,\n    _F2$ = _F2[2],\n    Y = _F2$.connectExisting,\n    $ = _F2$.removeExistingPairing,\n    R = _F2$.cancelLogin,\n    ee = _F2$.uriDeepLink,\n    h = _F2$.walletConnectUri,\n    d = _F2$.wcPairings,\n    _u = u(\"\"),\n    _u2 = _slicedToArray(_u, 2),\n    W = _u2[0],\n    te = _u2[1],\n    _u3 = u(C),\n    _u4 = _slicedToArray(_u3, 2),\n    a = _u4[0],\n    ne = _u4[1],\n    _u5 = u(C),\n    _u6 = _slicedToArray(_u5, 2),\n    oe = _u6[0],\n    ae = _u6[1],\n    re = I(),\n    S = a ? (B = d == null ? void 0 : d.filter(function (r) {\n      var T = d.some(function (l) {\n        var i, c, k, E;\n        return ((i = r.peerMetadata) == null ? void 0 : i.name) === ((c = l == null ? void 0 : l.peerMetadata) == null ? void 0 : c.name) && ((k = r.peerMetadata) == null ? void 0 : k.url) === ((E = l == null ? void 0 : l.peerMetadata) == null ? void 0 : E.url) && r.expiry < l.expiry;\n      });\n      return Boolean(r.active) && r.peerMetadata && !T;\n    })) != null ? B : [] : [],\n    n = {\n      loginText: e.textLeft,\n      container: o(e.mAuto, q.loginContainer),\n      card: o(e.card, e.my3, e.textCenter),\n      cardBody: o(e.cardBody, e.p4, e.mxLg4),\n      qrCodeSvgContainer: o(e.qrCodeSvgContainer, e.mxAuto, e.mb3),\n      title: e.mb3,\n      leadText: o(e.lead, e.mb0),\n      mobileLoginButton: o(e.btn, e.btnPrimary, e.dInlineFlex, e.alignItemsCenter, e.px4, e.my4),\n      mobileLoginButtonIcon: e.mr2,\n      errorMessage: o(e.textDanger, e.dFlex, e.justifyContentCenter, e.alignItemsCenter),\n      legacyMessageContainer: o(e.linkStyle, e.mt4, e.dFlex, e.justifyContentCenter, e.alignItemsCenter)\n    },\n    le = function le(r) {\n      r.preventDefault(), ne(!1), ae(!1);\n    },\n    se = function se() {\n      return D(void 0, null, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var i, c;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (a && h || !a && v) {\n                  _context.next = 2;\n                  break;\n                }\n                return _context.abrupt(\"return\");\n              case 2:\n                i = a ? h : v;\n                if (!i) {\n                  _context.next = 8;\n                  break;\n                }\n                _context.next = 6;\n                return fe.toString(i, {\n                  type: \"svg\"\n                });\n              case 6:\n                c = _context.sent;\n                c && te(c);\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n    },\n    ie = function ie() {\n      a ? R() : K(), p == null || p();\n    };\n  Z(function () {\n    se();\n  }, [a, v, h]), Z(function () {\n    a ? O() : z();\n  }, [a]);\n  var N = t.createElement(\"div\", {\n    className: n.container\n  }, t.createElement(\"div\", {\n    className: n.card\n  }, t.createElement(\"div\", {\n    className: n.cardBody\n  }, W ? t.createElement(\"div\", {\n    className: n.qrCodeSvgContainer,\n    dangerouslySetInnerHTML: {\n      __html: W\n    }\n  }) : t.createElement(G, null), t.createElement(\"h4\", {\n    className: o([e.h4, e.title])\n  }, y), re ? t.createElement(t.Fragment, null, t.createElement(\"p\", {\n    className: n.leadText\n  }, _), t.createElement(\"a\", {\n    id: \"accessWalletBtn\",\n    \"data-testid\": \"accessWalletBtn\",\n    className: n.mobileLoginButton,\n    href: J || ee,\n    rel: \"noopener noreferrer nofollow\",\n    target: \"_blank\"\n  }, t.createElement(H, {\n    className: n.mobileLoginButtonIcon,\n    style: {\n      width: \"0.9rem\",\n      height: \"0.9rem\"\n    }\n  }), y)) : t.createElement(\"p\", {\n    className: n.leadText\n  }, j), S.length > 0 && t.createElement(U, {\n    activePairings: S,\n    connectExisting: Y,\n    removeExistingPairing: $,\n    className: f\n  }), C && oe && t.createElement(\"a\", {\n    href: \"/#\",\n    className: n.legacyMessageContainer,\n    onClick: le\n  }, A), t.createElement(\"div\", null, w && t.createElement(\"p\", {\n    className: n.errorMessage\n  }, w), b && t.createElement(\"p\", {\n    className: n.errorMessage\n  }, b)))));\n  return X ? t.createElement(P, {\n    onClose: ie,\n    modalConfig: {\n      headerText: \"Login with Maiar\",\n      showHeader: !0,\n      modalDialogClassName: f\n    },\n    className: f\n  }, N) : N;\n};\nexport { Be as a };","map":null,"metadata":{},"sourceType":"module"}