{"ast":null,"code":"import _regeneratorRuntime from \"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport { a as E } from \"./chunk-NGQTSQZV.js\";\nimport { c as B, d as m } from \"./chunk-HXERYGOO.js\";\nimport { a as A } from \"./chunk-GX3Y7VGR.js\";\nimport { d as M } from \"./chunk-EUMYK45L.js\";\nimport { b as w } from \"./chunk-HGGYZF27.js\";\nimport { a as I } from \"./chunk-UV6VUF3Z.js\";\nimport { a as q } from \"./chunk-E37GJNPW.js\";\nimport { c as u, e as b } from \"./chunk-MD7XZQEH.js\";\nimport { b as R } from \"./chunk-RLURHDNV.js\";\nimport { b as h, c as W } from \"./chunk-WUCJ5FDJ.js\";\nimport { k as U } from \"./chunk-P6M5SGWP.js\";\nimport { a as l, b as T, j as g, m as y } from \"./chunk-HBP5N4FR.js\";\ny();\nimport { useEffect as z, useRef as F } from \"react\";\nimport { Address as G } from \"@elrondnetwork/erdjs\";\nimport { Signature as J } from \"@elrondnetwork/erdjs/out/signature\";\nq();\nU();\nW();\nvar P = function P(c) {\n    var t = c.redirectRoute;\n    t && h(t);\n  },\n  mn = function mn(_ref) {\n    var _ref$sendSignedTransa = _ref.sendSignedTransactionsAsync,\n      c = _ref$sendSignedTransa === void 0 ? A : _ref$sendSignedTransa;\n    var t = m(w),\n      n = m(M),\n      r = F(!1),\n      a = B(),\n      S = function S() {\n        a(b()), r.current = !1;\n      };\n    function j() {\n      return g(this, null, /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var f, k, _i, _k, e, o, x, _ret;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                k = Object.keys(n);\n                _i = 0, _k = k;\n              case 2:\n                if (!(_i < _k.length)) {\n                  _context2.next = 24;\n                  break;\n                }\n                e = _k[_i];\n                o = n == null ? void 0 : n[e], x = (f = o == null ? void 0 : o.customTransactionInformation) == null ? void 0 : f.signWithoutSending;\n                if (!(!e || x)) {\n                  _context2.next = 8;\n                  break;\n                }\n                P(o);\n                return _context2.abrupt(\"continue\", 21);\n              case 8:\n                _context2.prev = 8;\n                return _context2.delegateYield( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n                  var i, C, O, v, D;\n                  return _regeneratorRuntime().wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          if (n[e].status === \"signed\" && !r.current) {\n                            _context.next = 2;\n                            break;\n                          }\n                          return _context.abrupt(\"return\", \"continue\");\n                        case 2:\n                          i = n[e].transactions;\n                          if (i) {\n                            _context.next = 5;\n                            break;\n                          }\n                          return _context.abrupt(\"return\", \"continue\");\n                        case 5:\n                          r.current = !0;\n                          C = i.map(function (s) {\n                            var H = new G(s.sender),\n                              p = I(s),\n                              N = new J(s.signature);\n                            return p.applySignature(N, H), p;\n                          });\n                          _context.next = 9;\n                          return c(C);\n                        case 9:\n                          O = _context.sent;\n                          v = \"pending\";\n                          D = i.map(function (s) {\n                            return O.includes(s.hash) ? T(l({}, s), {\n                              status: v\n                            }) : s;\n                          });\n                          a(R({\n                            sessionId: e,\n                            submittedMessage: \"submitted\"\n                          })), a(u({\n                            sessionId: e,\n                            status: \"sent\",\n                            transactions: D\n                          })), S(), E(t.nonce + i.length), P(o), history.pushState({}, document.title, \"?\");\n                        case 13:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                })(), \"t0\", 10);\n              case 10:\n                _ret = _context2.t0;\n                if (!(_ret === \"continue\")) {\n                  _context2.next = 13;\n                  break;\n                }\n                return _context2.abrupt(\"continue\", 21);\n              case 13:\n                _context2.next = 18;\n                break;\n              case 15:\n                _context2.prev = 15;\n                _context2.t1 = _context2[\"catch\"](8);\n                console.error(\"Unable to send transactions\", _context2.t1), a(u({\n                  sessionId: e,\n                  status: \"fail\",\n                  errorMessage: _context2.t1.message\n                })), S();\n              case 18:\n                _context2.prev = 18;\n                r.current = !1;\n                return _context2.finish(18);\n              case 21:\n                _i++;\n                _context2.next = 2;\n                break;\n              case 24:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[8, 15, 18, 21]]);\n      }));\n    }\n    return z(function () {\n      j();\n    }, [n, t]), null;\n  };\nexport { mn as a };","map":null,"metadata":{},"sourceType":"module"}