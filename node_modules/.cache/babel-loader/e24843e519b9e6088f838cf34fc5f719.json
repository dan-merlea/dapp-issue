{"ast":null,"code":"import _regeneratorRuntime from \"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport { b as t } from \"./chunk-3SGZP5CP.js\";\nimport { a as u } from \"./chunk-6CIM3M2N.js\";\nimport { a as m } from \"./chunk-MRGB5FAN.js\";\nimport { a } from \"./chunk-YAR2KJ42.js\";\nimport { a as l } from \"./chunk-W5CAVGMZ.js\";\nimport { c as i } from \"./chunk-HXERYGOO.js\";\nimport { a as C } from \"./chunk-E37GJNPW.js\";\nimport { l as c } from \"./chunk-PV7M7QZ7.js\";\nimport { j as n, m as s } from \"./chunk-HBP5N4FR.js\";\ns();\nimport { useCallback as b, useEffect as f, useRef as d } from \"react\";\nimport { io as A } from \"socket.io-client\";\nC();\nvar I = 3e3,\n  w = 3,\n  M = 500,\n  R = 1e3;\nfunction z() {\n  var _this = this;\n  var o = d(null),\n    _l = l(),\n    r = _l.address,\n    E = i(),\n    _u = u(),\n    T = _u.network,\n    p = function p(e) {\n      o.current && clearTimeout(o.current), o.current = setTimeout(function () {\n        E(c(e));\n      }, R);\n    },\n    k = b(m(function () {\n      return n(_this, null, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var e;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                t.status = \"pending\";\n                _context.next = 3;\n                return a(T.apiAddress);\n              case 3:\n                e = _context.sent;\n                if (!(e == null)) {\n                  _context.next = 7;\n                  break;\n                }\n                console.warn(\"Can not get websocket url\");\n                return _context.abrupt(\"return\");\n              case 7:\n                t.current = A(e, {\n                  forceNew: !0,\n                  reconnectionAttempts: w,\n                  timeout: I,\n                  query: {\n                    address: r\n                  }\n                }), t.status = \"completed\", t.current.onAny(function (N) {\n                  p(N);\n                });\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n    }, {\n      retries: 2,\n      delay: M\n    }), [r]);\n  f(function () {\n    r && t.status === \"not_initialized\" && !t.current && k();\n  }, [r, t.current]), f(function () {\n    return function () {\n      var e;\n      (e = t.current) == null || e.close(), o.current && clearTimeout(o.current);\n    };\n  }, []);\n}\nexport { z as a };","map":null,"metadata":{},"sourceType":"module"}