{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/merlea/Development/Crypto/Krogan/dapp-issue/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/merlea/Development/Crypto/Krogan/dapp-issue/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _inherits = require(\"/Users/merlea/Development/Crypto/Krogan/dapp-issue/node_modules/@babel/runtime/helpers/inherits.js\").default;\nvar _createSuper = require(\"/Users/merlea/Development/Crypto/Krogan/dapp-issue/node_modules/@babel/runtime/helpers/createSuper.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VariadicValue = exports.VariadicType = void 0;\nvar types_1 = require(\"./types\");\nvar VariadicType = /*#__PURE__*/function (_types_1$Type) {\n  _inherits(VariadicType, _types_1$Type);\n  var _super = _createSuper(VariadicType);\n  function VariadicType(typeParameter) {\n    _classCallCheck(this, VariadicType);\n    return _super.call(this, \"Variadic\", [typeParameter], types_1.TypeCardinality.variable());\n  }\n  _createClass(VariadicType, [{\n    key: \"getClassName\",\n    value: function getClassName() {\n      return VariadicType.ClassName;\n    }\n  }]);\n  return VariadicType;\n}(types_1.Type);\nexports.VariadicType = VariadicType;\nVariadicType.ClassName = \"VariadicType\";\n/**\n * An abstraction that represents a sequence of values held under the umbrella of a variadic input / output parameter.\n *\n * Since at the time of constructing input parameters or decoding output parameters, the length is known,\n * this TypedValue behaves similar to a List.\n */\nvar VariadicValue = /*#__PURE__*/function (_types_1$TypedValue) {\n  _inherits(VariadicValue, _types_1$TypedValue);\n  var _super2 = _createSuper(VariadicValue);\n  /**\n   *\n   * @param type the type of this TypedValue (an instance of VariadicType), not the type parameter of the VariadicType\n   * @param items the items, having the type type.getFirstTypeParameter()\n   */\n  function VariadicValue(type, items) {\n    var _this;\n    _classCallCheck(this, VariadicValue);\n    _this = _super2.call(this, type);\n    // TODO: assert items are of type type.getFirstTypeParameter()\n    _this.items = items;\n    return _this;\n  }\n  _createClass(VariadicValue, [{\n    key: \"getClassName\",\n    value: function getClassName() {\n      return VariadicValue.ClassName;\n    }\n  }, {\n    key: \"getItems\",\n    value: function getItems() {\n      return this.items;\n    }\n  }, {\n    key: \"valueOf\",\n    value: function valueOf() {\n      return this.items.map(function (item) {\n        return item.valueOf();\n      });\n    }\n  }, {\n    key: \"equals\",\n    value: function equals(other) {\n      if (this.getType().differs(other.getType())) {\n        return false;\n      }\n      for (var i = 0; i < this.items.length; i++) {\n        var selfItem = this.items[i];\n        var otherItem = other.items[i];\n        if (!selfItem.equals(otherItem)) {\n          return false;\n        }\n      }\n      return true;\n    }\n  }], [{\n    key: \"fromItems\",\n    value: function fromItems() {\n      for (var _len = arguments.length, items = new Array(_len), _key = 0; _key < _len; _key++) {\n        items[_key] = arguments[_key];\n      }\n      if (items.length == 0) {\n        return new VariadicValue(new VariadicType(new types_1.TypePlaceholder()), []);\n      }\n      var typeParameter = items[0].getType();\n      return new VariadicValue(new VariadicType(typeParameter), items);\n    }\n  }]);\n  return VariadicValue;\n}(types_1.TypedValue);\nexports.VariadicValue = VariadicValue;\nVariadicValue.ClassName = \"VariadicValue\";","map":{"version":3,"mappings":";;;;;;;;;;AAAA;AAA6E,IAEhEA,YAAa;EAAA;EAAA;EAGtB,sBAAYC,aAAmB;IAAA;IAAA,yBACrB,UAAU,EAAE,CAACA,aAAa,CAAC,EAAEC,uBAAe,CAACC,QAAQ,EAAE;EACjE;EAAC;IAAA;IAAA,OAED,wBAAY;MACR,OAAOH,YAAY,CAACI,SAAS;IACjC;EAAC;EAAA;AAAA,EAT6BF,YAAI;AAAtCG;AACWL,sBAAS,GAAG,cAAc;AAWrC;;;;;;AAAA,IAMaM,aAAc;EAAA;EAAA;EAIvB;;;;;EAKA,uBAAYC,IAAkB,EAAEC,KAAmB;IAAA;IAAA;IAC/C,2BAAMD,IAAI;IAEV;IAEA,MAAKC,KAAK,GAAGA,KAAK;IAAC;EACvB;EAAC;IAAA;IAAA,OAED,wBAAY;MACR,OAAOF,aAAa,CAACF,SAAS;IAClC;EAAC;IAAA;IAAA,OAWD,oBAAQ;MACJ,OAAO,IAAI,CAACI,KAAK;IACrB;EAAC;IAAA;IAAA,OAED,mBAAO;MACH,OAAO,IAAI,CAACA,KAAK,CAACC,GAAG,CAAC,cAAI;QAAA,OAAIC,IAAI,CAACC,OAAO,EAAE;MAAA,EAAC;IACjD;EAAC;IAAA;IAAA,OAED,gBAAOC,KAAoB;MACvB,IAAI,IAAI,CAACC,OAAO,EAAE,CAACC,OAAO,CAACF,KAAK,CAACC,OAAO,EAAE,CAAC,EAAE;QACzC,OAAO,KAAK;;MAGhB,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACP,KAAK,CAACQ,MAAM,EAAED,CAAC,EAAE,EAAE;QACxC,IAAIE,QAAQ,GAAG,IAAI,CAACT,KAAK,CAACO,CAAC,CAAC;QAC5B,IAAIG,SAAS,GAAGN,KAAK,CAACJ,KAAK,CAACO,CAAC,CAAC;QAE9B,IAAI,CAACE,QAAQ,CAACE,MAAM,CAACD,SAAS,CAAC,EAAE;UAC7B,OAAO,KAAK;;;MAIpB,OAAO,IAAI;IACf;EAAC;IAAA;IAAA,OAhCD,qBAAuC;MAAA,kCAAnBV,KAAmB;QAAnBA,KAAmB;MAAA;MACnC,IAAIA,KAAK,CAACQ,MAAM,IAAI,CAAC,EAAE;QACnB,OAAO,IAAIV,aAAa,CAAC,IAAIN,YAAY,CAAC,IAAIE,uBAAe,EAAE,CAAC,EAAE,EAAE,CAAC;;MAGzE,IAAID,aAAa,GAAGO,KAAK,CAAC,CAAC,CAAC,CAACK,OAAO,EAAE;MACtC,OAAO,IAAIP,aAAa,CAAC,IAAIN,YAAY,CAACC,aAAa,CAAC,EAAEO,KAAK,CAAC;IACpE;EAAC;EAAA;AAAA,EA5B8BN,kBAAU;AAA7CG;AACWC,uBAAS,GAAG,eAAe","names":["VariadicType","typeParameter","types_1","variable","ClassName","exports","VariadicValue","type","items","map","item","valueOf","other","getType","differs","i","length","selfItem","otherItem","equals"],"sourceRoot":"","sources":["../../../src/smartcontracts/typesystem/variadic.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}