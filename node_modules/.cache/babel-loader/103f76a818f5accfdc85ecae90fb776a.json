{"ast":null,"code":"import _slicedToArray from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Modal}from'react-bootstrap';import React,{useEffect}from'react';import{useAccount}from'core/hooks/useAccount';import{useGetLoginInfo,useGetAccountInfo}from'@elrondnetwork/dapp-core/hooks';import{TokensView,Denominate,useCoreContext}from'core';import{ExtensionLoginButton,WebWalletLoginButton,WalletConnectLoginContainer,LedgerLoginContainer}from'@elrondnetwork/dapp-core/UI';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ConnectionType;(function(ConnectionType){ConnectionType[ConnectionType[\"Ledger\"]=1]=\"Ledger\";ConnectionType[ConnectionType[\"MaiarApp\"]=2]=\"MaiarApp\";ConnectionType[ConnectionType[\"MaiarAppV2\"]=3]=\"MaiarAppV2\";ConnectionType[ConnectionType[\"Wallet\"]=4]=\"Wallet\";ConnectionType[ConnectionType[\"None\"]=5]=\"None\";})(ConnectionType||(ConnectionType={}));export var ConnectModal=function ConnectModal(_ref){var show=_ref.show,onHide=_ref.onHide;var _useGetLoginInfo=useGetLoginInfo(),isLoggedIn=_useGetLoginInfo.isLoggedIn;var _useGetAccountInfo=useGetAccountInfo(),address=_useGetAccountInfo.address;var _useCoreContext=useCoreContext(),account=_useCoreContext.account;var _useAccount=useAccount(),disconnect=_useAccount.disconnect,loadAccount=_useAccount.loadAccount;var _React$useState=React.useState(ConnectionType.None),_React$useState2=_slicedToArray(_React$useState,2),type=_React$useState2[0],setType=_React$useState2[1];var logout=function logout(){onHide();setType(ConnectionType.None);disconnect();};var fetchUser=function fetchUser(){if(isLoggedIn){loadAccount();}};React.useEffect(fetchUser,[address]);var defaultContent=function defaultContent(){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Connect with your Elrond Wallet.\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"mb-4\",children:\"Please select your login method:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 d-flex flex-column\",children:[/*#__PURE__*/_jsx(ExtensionLoginButton,{buttonClassName:\"extension-login\",loginButtonText:\"Browser Extension\"}),/*#__PURE__*/_jsx(\"button\",{className:\"dapp-core-component__main__btn dapp-core-component__main__btn-primary dapp-core-component__main__px-4 dapp-core-component__main__m-1 dapp-core-component__main__mx-3\",onClick:function onClick(){return setType(ConnectionType.MaiarAppV2);},children:/*#__PURE__*/_jsx(\"span\",{className:\"dapp-core-component__loginButtonStyles__login-text\",children:\"Maiar App V2.0\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"dapp-core-component__main__btn dapp-core-component__main__btn-primary dapp-core-component__main__px-4 dapp-core-component__main__m-1 dapp-core-component__main__mx-3\",onClick:function onClick(){return setType(ConnectionType.MaiarApp);},children:/*#__PURE__*/_jsx(\"span\",{className:\"dapp-core-component__loginButtonStyles__login-text\",children:\"Maiar App V1.0\"})}),/*#__PURE__*/_jsx(WebWalletLoginButton,{buttonClassName:\"webwallet-login\",loginButtonText:\"Web Wallet\",callbackRoute:window.location.pathname}),/*#__PURE__*/_jsx(\"button\",{className:\"dapp-core-component__main__btn dapp-core-component__main__btn-primary dapp-core-component__main__px-4 dapp-core-component__main__m-1 dapp-core-component__main__mx-3\",onClick:function onClick(){return setType(ConnectionType.Ledger);},children:/*#__PURE__*/_jsx(\"span\",{className:\"dapp-core-component__loginButtonStyles__login-text\",children:\"Ledger\"})})]})]});};var walletContent=function walletContent(account){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-4 text-break-all\",children:account.address}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center justify-content-center mb-3\",children:/*#__PURE__*/_jsx(Denominate,{value:account.balance,token:\"EGLD\",decimals:5})}),/*#__PURE__*/_jsx(TokensView,{}),/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"disconnect-button center-button px-sm-spacer mx-1 mx-sm-3 mb-3\",children:\"Disconnect\"})]});};var chooseTemplate=function chooseTemplate(){if(account){return walletContent(account);}switch(type){case ConnectionType.Ledger:return/*#__PURE__*/_jsx(LedgerLoginContainer,{className:\"ledger-login-modal\",wrapContentInsideModal:false,onClose:onHide});case ConnectionType.MaiarApp:return/*#__PURE__*/_jsx(WalletConnectLoginContainer,{loginButtonText:\"Login with Maiar\",title:\"Legacy Maiar Login\",className:\"wallect-connect-login-modal\",lead:\"Scan the QR code using Maiar\",wrapContentInsideModal:false,onClose:onHide,isWalletConnectV2:false});case ConnectionType.MaiarAppV2:return/*#__PURE__*/_jsx(WalletConnectLoginContainer,{loginButtonText:\"Login with Maiar\",title:\"Maiar Login\",className:\"wallect-connect-login-modal\",lead:\"Scan the QR code using Maiar\",wrapContentInsideModal:false,onClose:onHide,isWalletConnectV2:true});default:return defaultContent();}};var hideModal=function hideModal(){setType(ConnectionType.None);onHide();};useEffect(function(){if(account)hideModal();},[account]);return/*#__PURE__*/_jsxs(Modal,{show:show,onHide:hideModal,animation:false,size:\"lg\",centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,className:\"btn-close-white\"}),/*#__PURE__*/_jsx(Modal.Body,{className:\"center\",children:chooseTemplate()})]});};","map":null,"metadata":{},"sourceType":"module"}