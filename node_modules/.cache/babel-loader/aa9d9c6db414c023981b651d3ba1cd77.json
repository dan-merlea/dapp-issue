{"ast":null,"code":"\"use strict\";\n\nvar _createForOfIteratorHelper = require(\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\").default;\nvar _classCallCheck = require(\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/createClass.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MultiESDTNFTTransferPayloadBuilder = exports.ESDTNFTTransferPayloadBuilder = exports.ESDTTransferPayloadBuilder = void 0;\nvar address_1 = require(\"./address\");\nvar argSerializer_1 = require(\"./smartcontracts/argSerializer\");\nvar typesystem_1 = require(\"./smartcontracts/typesystem\");\nvar tokenPayment_1 = require(\"./tokenPayment\");\nvar transactionPayload_1 = require(\"./transactionPayload\");\nvar ESDTTransferPayloadBuilder = /*#__PURE__*/function () {\n  function ESDTTransferPayloadBuilder() {\n    _classCallCheck(this, ESDTTransferPayloadBuilder);\n    this.payment = tokenPayment_1.TokenPayment.fungibleFromAmount(\"\", \"0\", 0);\n  }\n  _createClass(ESDTTransferPayloadBuilder, [{\n    key: \"setPayment\",\n    value: function setPayment(payment) {\n      this.payment = payment;\n      return this;\n    }\n  }, {\n    key: \"build\",\n    value: function build() {\n      var args = [\n      // The token identifier\n      typesystem_1.BytesValue.fromUTF8(this.payment.tokenIdentifier),\n      // The transfered amount\n      new typesystem_1.BigUIntValue(this.payment.valueOf())];\n      var _argSerializer_1$ArgS = new argSerializer_1.ArgSerializer().valuesToString(args),\n        argumentsString = _argSerializer_1$ArgS.argumentsString;\n      var data = \"ESDTTransfer@\".concat(argumentsString);\n      return new transactionPayload_1.TransactionPayload(data);\n    }\n  }]);\n  return ESDTTransferPayloadBuilder;\n}();\nexports.ESDTTransferPayloadBuilder = ESDTTransferPayloadBuilder;\nvar ESDTNFTTransferPayloadBuilder = /*#__PURE__*/function () {\n  function ESDTNFTTransferPayloadBuilder() {\n    _classCallCheck(this, ESDTNFTTransferPayloadBuilder);\n    this.payment = tokenPayment_1.TokenPayment.nonFungible(\"\", 0);\n    this.destination = new address_1.Address(\"\");\n  }\n  _createClass(ESDTNFTTransferPayloadBuilder, [{\n    key: \"setPayment\",\n    value: function setPayment(payment) {\n      this.payment = payment;\n      return this;\n    }\n  }, {\n    key: \"setDestination\",\n    value: function setDestination(destination) {\n      this.destination = destination;\n      return this;\n    }\n  }, {\n    key: \"build\",\n    value: function build() {\n      var args = [\n      // The token identifier\n      typesystem_1.BytesValue.fromUTF8(this.payment.tokenIdentifier),\n      // The nonce of the token\n      new typesystem_1.U64Value(this.payment.nonce),\n      // The transferred quantity\n      new typesystem_1.BigUIntValue(this.payment.valueOf()),\n      // The destination address\n      new typesystem_1.AddressValue(this.destination)];\n      var _argSerializer_1$ArgS2 = new argSerializer_1.ArgSerializer().valuesToString(args),\n        argumentsString = _argSerializer_1$ArgS2.argumentsString;\n      var data = \"ESDTNFTTransfer@\".concat(argumentsString);\n      return new transactionPayload_1.TransactionPayload(data);\n    }\n  }]);\n  return ESDTNFTTransferPayloadBuilder;\n}();\nexports.ESDTNFTTransferPayloadBuilder = ESDTNFTTransferPayloadBuilder;\nvar MultiESDTNFTTransferPayloadBuilder = /*#__PURE__*/function () {\n  function MultiESDTNFTTransferPayloadBuilder() {\n    _classCallCheck(this, MultiESDTNFTTransferPayloadBuilder);\n    this.payments = [];\n    this.destination = new address_1.Address(\"\");\n  }\n  _createClass(MultiESDTNFTTransferPayloadBuilder, [{\n    key: \"setPayments\",\n    value: function setPayments(payments) {\n      this.payments = payments;\n      return this;\n    }\n  }, {\n    key: \"setDestination\",\n    value: function setDestination(destination) {\n      this.destination = destination;\n      return this;\n    }\n  }, {\n    key: \"build\",\n    value: function build() {\n      var args = [\n      // The destination address\n      new typesystem_1.AddressValue(this.destination),\n      // Number of tokens\n      new typesystem_1.U16Value(this.payments.length)];\n      var _iterator = _createForOfIteratorHelper(this.payments),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var payment = _step.value;\n          args.push.apply(args, [\n          // The token identifier\n          typesystem_1.BytesValue.fromUTF8(payment.tokenIdentifier),\n          // The nonce of the token\n          new typesystem_1.U64Value(payment.nonce),\n          // The transfered quantity\n          new typesystem_1.BigUIntValue(payment.valueOf())]);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      var _argSerializer_1$ArgS3 = new argSerializer_1.ArgSerializer().valuesToString(args),\n        argumentsString = _argSerializer_1$ArgS3.argumentsString;\n      var data = \"MultiESDTNFTTransfer@\".concat(argumentsString);\n      return new transactionPayload_1.TransactionPayload(data);\n    }\n  }]);\n  return MultiESDTNFTTransferPayloadBuilder;\n}();\nexports.MultiESDTNFTTransferPayloadBuilder = MultiESDTNFTTransferPayloadBuilder;","map":{"version":3,"sources":["../src/tokenTransferBuilders.ts"],"names":[],"mappings":";;;;;;;;;AAAA,IAAA,SAAA,GAAA,OAAA,CAAA,WAAA,CAAA;AAEA,IAAA,eAAA,GAAA,OAAA,CAAA,gCAAA,CAAA;AACA,IAAA,YAAA,GAAA,OAAA,CAAA,6BAAA,CAAA;AACA,IAAA,cAAA,GAAA,OAAA,CAAA,gBAAA,CAAA;AACA,IAAA,oBAAA,GAAA,OAAA,CAAA,sBAAA,CAAA;AAA0D,IAE7C,0BAA0B;EAAvC,sCAAA;IAAA;IACI,IAAA,CAAA,OAAO,GAAkB,cAAA,CAAA,YAAY,CAAC,kBAAkB,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC;EAmBxE;EAAC;IAAA;IAAA,OAjBG,oBAAW,OAAsB,EAAA;MAC7B,IAAI,CAAC,OAAO,GAAG,OAAO;MACtB,OAAO,IAAI;IACf;EAAC;IAAA;IAAA,OAED,iBAAK;MACD,IAAI,IAAI,GAAiB;MACrB;MACA,YAAA,CAAA,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC;MACjD;MACA,IAAI,YAAA,CAAA,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,CAC3C;MAED,4BAA0B,IAAI,eAAA,CAAA,aAAa,EAAE,CAAC,cAAc,CAAC,IAAI,CAAC;QAA5D,eAAe,yBAAf,eAAe;MACrB,IAAI,IAAI,0BAAmB,eAAe,CAAE;MAC5C,OAAO,IAAI,oBAAA,CAAA,kBAAkB,CAAC,IAAI,CAAC;IACvC;EAAC;EAAA;AAAA;AAnBL,OAAA,CAAA,0BAAA,GAAA,0BAAA;AAoBC,IAEY,6BAA6B;EAA1C,yCAAA;IAAA;IACI,IAAA,CAAA,OAAO,GAAkB,cAAA,CAAA,YAAY,CAAC,WAAW,CAAC,EAAE,EAAE,CAAC,CAAC;IACxD,IAAA,CAAA,WAAW,GAAa,IAAI,SAAA,CAAA,OAAO,CAAC,EAAE,CAAC;EA4B3C;EAAC;IAAA;IAAA,OA1BG,oBAAW,OAAsB,EAAA;MAC7B,IAAI,CAAC,OAAO,GAAG,OAAO;MACtB,OAAO,IAAI;IACf;EAAC;IAAA;IAAA,OAED,wBAAe,WAAqB,EAAA;MAChC,IAAI,CAAC,WAAW,GAAG,WAAW;MAC9B,OAAO,IAAI;IACf;EAAC;IAAA;IAAA,OAED,iBAAK;MACD,IAAI,IAAI,GAAiB;MACrB;MACA,YAAA,CAAA,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC;MACjD;MACA,IAAI,YAAA,CAAA,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;MAChC;MACA,IAAI,YAAA,CAAA,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;MACxC;MACA,IAAI,YAAA,CAAA,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,CACrC;MAED,6BAA0B,IAAI,eAAA,CAAA,aAAa,EAAE,CAAC,cAAc,CAAC,IAAI,CAAC;QAA5D,eAAe,0BAAf,eAAe;MACrB,IAAI,IAAI,6BAAsB,eAAe,CAAE;MAC/C,OAAO,IAAI,oBAAA,CAAA,kBAAkB,CAAC,IAAI,CAAC;IACvC;EAAC;EAAA;AAAA;AA7BL,OAAA,CAAA,6BAAA,GAAA,6BAAA;AA8BC,IAEY,kCAAkC;EAA/C,8CAAA;IAAA;IACI,IAAA,CAAA,QAAQ,GAAoB,EAAE;IAC9B,IAAA,CAAA,WAAW,GAAa,IAAI,SAAA,CAAA,OAAO,CAAC,EAAE,CAAC;EAmC3C;EAAC;IAAA;IAAA,OAjCG,qBAAY,QAAyB,EAAA;MACjC,IAAI,CAAC,QAAQ,GAAG,QAAQ;MACxB,OAAO,IAAI;IACf;EAAC;IAAA;IAAA,OAED,wBAAe,WAAqB,EAAA;MAChC,IAAI,CAAC,WAAW,GAAG,WAAW;MAC9B,OAAO,IAAI;IACf;EAAC;IAAA;IAAA,OAED,iBAAK;MACD,IAAI,IAAI,GAAiB;MACrB;MACA,IAAI,YAAA,CAAA,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC;MAClC;MACA,IAAI,YAAA,CAAA,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CACrC;MAAC,2CAEoB,IAAI,CAAC,QAAQ;QAAA;MAAA;QAAnC,oDAAqC;UAAA,IAA1B,OAAO;UACd,IAAI,CAAC,IAAI,OAAT,IAAI,EAAS;UACT;UACA,YAAA,CAAA,UAAU,CAAC,QAAQ,CAAC,OAAO,CAAC,eAAe,CAAC;UAC5C;UACA,IAAI,YAAA,CAAA,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC;UAC3B;UACA,IAAI,YAAA,CAAA,YAAY,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,CACtC,CAAC;;MACL;QAAA;MAAA;QAAA;MAAA;MAED,6BAA0B,IAAI,eAAA,CAAA,aAAa,EAAE,CAAC,cAAc,CAAC,IAAI,CAAC;QAA5D,eAAe,0BAAf,eAAe;MACrB,IAAI,IAAI,kCAA2B,eAAe,CAAE;MACpD,OAAO,IAAI,oBAAA,CAAA,kBAAkB,CAAC,IAAI,CAAC;IACvC;EAAC;EAAA;AAAA;AApCL,OAAA,CAAA,kCAAA,GAAA,kCAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MultiESDTNFTTransferPayloadBuilder = exports.ESDTNFTTransferPayloadBuilder = exports.ESDTTransferPayloadBuilder = void 0;\nconst address_1 = require(\"./address\");\nconst argSerializer_1 = require(\"./smartcontracts/argSerializer\");\nconst typesystem_1 = require(\"./smartcontracts/typesystem\");\nconst tokenPayment_1 = require(\"./tokenPayment\");\nconst transactionPayload_1 = require(\"./transactionPayload\");\nclass ESDTTransferPayloadBuilder {\n    constructor() {\n        this.payment = tokenPayment_1.TokenPayment.fungibleFromAmount(\"\", \"0\", 0);\n    }\n    setPayment(payment) {\n        this.payment = payment;\n        return this;\n    }\n    build() {\n        let args = [\n            // The token identifier\n            typesystem_1.BytesValue.fromUTF8(this.payment.tokenIdentifier),\n            // The transfered amount\n            new typesystem_1.BigUIntValue(this.payment.valueOf()),\n        ];\n        let { argumentsString } = new argSerializer_1.ArgSerializer().valuesToString(args);\n        let data = `ESDTTransfer@${argumentsString}`;\n        return new transactionPayload_1.TransactionPayload(data);\n    }\n}\nexports.ESDTTransferPayloadBuilder = ESDTTransferPayloadBuilder;\nclass ESDTNFTTransferPayloadBuilder {\n    constructor() {\n        this.payment = tokenPayment_1.TokenPayment.nonFungible(\"\", 0);\n        this.destination = new address_1.Address(\"\");\n    }\n    setPayment(payment) {\n        this.payment = payment;\n        return this;\n    }\n    setDestination(destination) {\n        this.destination = destination;\n        return this;\n    }\n    build() {\n        let args = [\n            // The token identifier\n            typesystem_1.BytesValue.fromUTF8(this.payment.tokenIdentifier),\n            // The nonce of the token\n            new typesystem_1.U64Value(this.payment.nonce),\n            // The transferred quantity\n            new typesystem_1.BigUIntValue(this.payment.valueOf()),\n            // The destination address\n            new typesystem_1.AddressValue(this.destination)\n        ];\n        let { argumentsString } = new argSerializer_1.ArgSerializer().valuesToString(args);\n        let data = `ESDTNFTTransfer@${argumentsString}`;\n        return new transactionPayload_1.TransactionPayload(data);\n    }\n}\nexports.ESDTNFTTransferPayloadBuilder = ESDTNFTTransferPayloadBuilder;\nclass MultiESDTNFTTransferPayloadBuilder {\n    constructor() {\n        this.payments = [];\n        this.destination = new address_1.Address(\"\");\n    }\n    setPayments(payments) {\n        this.payments = payments;\n        return this;\n    }\n    setDestination(destination) {\n        this.destination = destination;\n        return this;\n    }\n    build() {\n        let args = [\n            // The destination address\n            new typesystem_1.AddressValue(this.destination),\n            // Number of tokens\n            new typesystem_1.U16Value(this.payments.length)\n        ];\n        for (const payment of this.payments) {\n            args.push(...[\n                // The token identifier\n                typesystem_1.BytesValue.fromUTF8(payment.tokenIdentifier),\n                // The nonce of the token\n                new typesystem_1.U64Value(payment.nonce),\n                // The transfered quantity\n                new typesystem_1.BigUIntValue(payment.valueOf())\n            ]);\n        }\n        let { argumentsString } = new argSerializer_1.ArgSerializer().valuesToString(args);\n        let data = `MultiESDTNFTTransfer@${argumentsString}`;\n        return new transactionPayload_1.TransactionPayload(data);\n    }\n}\nexports.MultiESDTNFTTransferPayloadBuilder = MultiESDTNFTTransferPayloadBuilder;\n//# sourceMappingURL=tokenTransferBuilders.js.map"]},"metadata":{},"sourceType":"script"}