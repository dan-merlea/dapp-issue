{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/merlea/Development/Crypto/Krogan/dapp-issue/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/merlea/Development/Crypto/Krogan/dapp-issue/node_modules/@babel/runtime/helpers/createClass.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NonFungibleTokenOfAccountOnNetwork = exports.FungibleTokenOfAccountOnNetwork = void 0;\nvar bignumber_js_1 = require(\"bignumber.js\");\nvar primitives_1 = require(\"./primitives\");\nvar FungibleTokenOfAccountOnNetwork = /*#__PURE__*/function () {\n  function FungibleTokenOfAccountOnNetwork() {\n    _classCallCheck(this, FungibleTokenOfAccountOnNetwork);\n    this.identifier = \"\";\n    this.balance = new bignumber_js_1.BigNumber(0);\n  }\n  _createClass(FungibleTokenOfAccountOnNetwork, null, [{\n    key: \"fromHttpResponse\",\n    value: function fromHttpResponse(payload) {\n      var result = new FungibleTokenOfAccountOnNetwork();\n      result.identifier = payload.tokenIdentifier || payload.identifier || \"\";\n      result.balance = new bignumber_js_1.BigNumber(payload.balance || 0);\n      return result;\n    }\n  }]);\n  return FungibleTokenOfAccountOnNetwork;\n}();\nexports.FungibleTokenOfAccountOnNetwork = FungibleTokenOfAccountOnNetwork;\nvar NonFungibleTokenOfAccountOnNetwork = /*#__PURE__*/function () {\n  function NonFungibleTokenOfAccountOnNetwork(init) {\n    _classCallCheck(this, NonFungibleTokenOfAccountOnNetwork);\n    this.identifier = \"\";\n    this.collection = \"\";\n    this.timestamp = 0;\n    this.attributes = Buffer.from([]);\n    this.nonce = 0;\n    this.type = \"\";\n    this.name = \"\";\n    this.creator = new primitives_1.Address(\"\");\n    this.supply = new bignumber_js_1.BigNumber(0);\n    this.decimals = 0;\n    this.royalties = new bignumber_js_1.BigNumber(0);\n    this.assets = [];\n    Object.assign(this, init);\n  }\n  _createClass(NonFungibleTokenOfAccountOnNetwork, null, [{\n    key: \"fromProxyHttpResponse\",\n    value: function fromProxyHttpResponse(payload) {\n      var result = NonFungibleTokenOfAccountOnNetwork.fromHttpResponse(payload);\n      result.identifier = payload.tokenIdentifier || \"\";\n      result.collection = NonFungibleTokenOfAccountOnNetwork.parseCollectionFromIdentifier(result.identifier);\n      result.royalties = new bignumber_js_1.BigNumber(payload.royalties || 0).div(100);\n      return result;\n    }\n  }, {\n    key: \"fromProxyHttpResponseByNonce\",\n    value: function fromProxyHttpResponseByNonce(payload) {\n      var result = NonFungibleTokenOfAccountOnNetwork.fromHttpResponse(payload);\n      var nonceAsHex = new primitives_1.Nonce(result.nonce).hex();\n      result.identifier = \"\".concat(payload.tokenIdentifier, \"-\").concat(nonceAsHex);\n      result.collection = payload.tokenIdentifier || \"\";\n      result.royalties = new bignumber_js_1.BigNumber(payload.royalties || 0).div(100);\n      return result;\n    }\n  }, {\n    key: \"fromApiHttpResponse\",\n    value: function fromApiHttpResponse(payload) {\n      var result = NonFungibleTokenOfAccountOnNetwork.fromHttpResponse(payload);\n      result.identifier = payload.identifier || \"\";\n      result.collection = payload.collection || \"\";\n      return result;\n    }\n    // TODO: Compare results from Proxy and API and try to reconciliate them.\n  }, {\n    key: \"fromHttpResponse\",\n    value: function fromHttpResponse(payload) {\n      var result = new NonFungibleTokenOfAccountOnNetwork();\n      result.timestamp = Number(payload.timestamp || 0);\n      result.attributes = Buffer.from(payload.attributes || \"\", \"base64\");\n      result.nonce = payload.nonce || 0;\n      result.type = payload.type || \"\";\n      result.name = payload.name || \"\";\n      result.creator = new primitives_1.Address(payload.creator || \"\");\n      result.decimals = Number(payload.decimals || 0);\n      result.supply = new bignumber_js_1.BigNumber(payload.balance || 1);\n      result.royalties = new bignumber_js_1.BigNumber(payload.royalties || 0);\n      result.assets = payload.assets || [];\n      return result;\n    }\n  }, {\n    key: \"parseCollectionFromIdentifier\",\n    value: function parseCollectionFromIdentifier(identifier) {\n      var parts = identifier.split(\"-\");\n      var collection = parts.slice(0, 2).join(\"-\");\n      return collection;\n    }\n  }]);\n  return NonFungibleTokenOfAccountOnNetwork;\n}();\nexports.NonFungibleTokenOfAccountOnNetwork = NonFungibleTokenOfAccountOnNetwork;","map":{"version":3,"mappings":"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","names":["FungibleTokenOfAccountOnNetwork","bignumber_js_1","payload","result","identifier","tokenIdentifier","balance","exports","NonFungibleTokenOfAccountOnNetwork","init","Buffer","from","primitives_1","Object","assign","fromHttpResponse","collection","parseCollectionFromIdentifier","royalties","div","nonceAsHex","nonce","hex","timestamp","Number","attributes","type","name","creator","decimals","supply","assets","parts","split","slice","join"],"sourceRoot":"","sources":["../src/tokens.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}