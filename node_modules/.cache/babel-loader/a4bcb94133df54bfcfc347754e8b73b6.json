{"ast":null,"code":"import _objectSpread from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/merlea/Development/Crypto/Krogan/kroganverse-com/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Box}from'gui/uielements';import React from'react';import ObjectMap from'storage/ObjectMap';import{MaterialLinearComp}from'./MaterialLinearComp';/**\n * Render the details about the current spaceship in control\n */import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var SpaceshipCargoView=/*#__PURE__*/function(_React$Component){_inherits(SpaceshipCargoView,_React$Component);var _super=_createSuper(SpaceshipCargoView);function SpaceshipCargoView(props){var _this;_classCallCheck(this,SpaceshipCargoView);_this=_super.call(this,props);_this.materials=new ObjectMap();_this.props.spaceship.cargo.forEach(function(material,key){_this.materials.add(key,material);});return _this;}_createClass(SpaceshipCargoView,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.props.spaceship.cargo.onAdd=function(material,key){_this2.materials.add(key,material);_this2.forceUpdate();};this.props.spaceship.cargo.onRemove=function(material,key){_this2.materials.remove(key);_this2.forceUpdate();};}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){var _this3=this;if(prevProps.spaceship.nonce!=this.props.spaceship.nonce){console.log('Component update');this.materials=new ObjectMap();this.props.spaceship.cargo.forEach(function(material,key){_this3.materials.add(key,material);});this.forceUpdate();}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(Box,{style:_objectSpread(_objectSpread({},this.props.style),styles.box),children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Cargo Krogan #\",this.props.spaceship.nonce]}),this.materials.getAll().map(function(material,i){return/*#__PURE__*/_jsx(MaterialLinearComp,{material:material},i);}),this.materials.length()==0&&/*#__PURE__*/_jsx(\"p\",{style:styles.text,children:\"Empty. Mine asteroids to gather materials.\"})]});}}]);return SpaceshipCargoView;}(React.Component);export var SpaceshipCargo=/*#__PURE__*/React.memo(SpaceshipCargoView);var styles={text:{fontSize:'10px'},box:{maxWidth:'250px'}};","map":null,"metadata":{},"sourceType":"module"}