{"ast":null,"code":"import React from'react';import{Box,Button,Space,Text,View}from'gui/uielements';import{useRoomContext}from'context/room';import{actionWhenTrue}from'utils/pooling';/**\n * A menu displaying tile contents\n */import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function AsteroidDetails(props){var _useRoomContext=useRoomContext(),hud=_useRoomContext.hud;var asteroid=props.asteroid,eventHandler=props.eventHandler;var starMining=function starMining(){eventHandler.send('closePopup','close');actionWhenTrue(function(){var _hud$controlledSpaces,_hud$controlledSpaces2;return(_hud$controlledSpaces=(_hud$controlledSpaces2=hud.controlledSpaceship)===null||_hud$controlledSpaces2===void 0?void 0:_hud$controlledSpaces2.velocity.isEmpty)!==null&&_hud$controlledSpaces!==void 0?_hud$controlledSpaces:false;},function(){eventHandler.send('mineAsteroid',asteroid);},500);};var materials=function materials(){if(!asteroid.materials)return/*#__PURE__*/_jsx(_Fragment,{});return asteroid.materials.map(function(material,i){return/*#__PURE__*/_jsxs(View,{children:[/*#__PURE__*/_jsx(View,{flex:true,center:true,children:/*#__PURE__*/_jsxs(View,{center:true,textCenter:true,children:[/*#__PURE__*/_jsxs(Text,{type:\"body\",children:[material.name,\" ( \",material.type,\" )\"]}),/*#__PURE__*/_jsx(Space,{size:\"xxs\"}),/*#__PURE__*/_jsx(Text,{type:\"body\",children:material.production.toFixed(5)})]})}),/*#__PURE__*/_jsx(Space,{size:\"s\"})]},i);});};return/*#__PURE__*/_jsx(View,{fullscreen:true,flex:true,center:true,backdrop:true,popup:true,children:/*#__PURE__*/_jsxs(Box,{popup:true,children:[/*#__PURE__*/_jsxs(Text,{center:true,type:\"title\",children:[\"Asteroid #\",asteroid.nonce]}),/*#__PURE__*/_jsx(Space,{size:\"xs\"}),materials(),/*#__PURE__*/_jsx(Button,{onClick:starMining,children:\"START MINING\"}),/*#__PURE__*/_jsx(Space,{size:\"xs\"}),/*#__PURE__*/_jsx(View,{flex:true,children:/*#__PURE__*/_jsx(Button,{reversed:true,onClick:function onClick(){return eventHandler.send('closePopup','close');},children:\"Close\"})})]})});}","map":null,"metadata":{},"sourceType":"module"}