{"ast":null,"code":"import { b as f } from \"./chunk-CPSRFBWX.js\";\nimport { a as h } from \"./chunk-4VDFQTIQ.js\";\nimport { a as i, b as B } from \"./chunk-XZ57HGZG.js\";\nimport { a as A } from \"./chunk-ZU6LXEUO.js\";\nimport { a as S } from \"./chunk-VTMJ7INI.js\";\nimport { m as b } from \"./chunk-HBP5N4FR.js\";\nb();\nA();\nimport u, { useEffect as C, useMemo as O, useRef as g } from \"react\";\nimport _ from \"classnames\";\nB();\nvar m = \"toastProgress\",\n  j = function j(_ref) {\n    var s = _ref.id,\n      p = _ref.children,\n      r = _ref.progress,\n      x = _ref.done,\n      _ref$expiresIn = _ref.expiresIn,\n      I = _ref$expiresIn === void 0 ? 10 * 60 : _ref$expiresIn,\n      _ref$className = _ref.className,\n      N = _ref$className === void 0 ? \"dapp-progress\" : _ref$className;\n    var y = O(function () {\n        var e = r ? r.endTime - r.startTime : 0,\n          n = i.session.getItem(m),\n          d = Math.floor(Date.now() / 1e3),\n          o = r ? (r.endTime - d) * 100 / e : 0;\n        return {\n          currentRemaining: n && s in n ? n[s] : o,\n          totalSeconds: e\n        };\n      }, []),\n      F = y.totalSeconds,\n      w = y.currentRemaining,\n      t = g(null),\n      a = g(),\n      c = g(w);\n    C(function () {\n      if (r != null) return x ? M() : D(), function () {\n        clearInterval(a.current);\n      };\n    }, [r, x]);\n    function E() {\n      var e = i.session.getItem(m);\n      !Boolean(e == null ? void 0 : e[s]) || (delete e[s], v(e));\n    }\n    function T(e) {\n      var n = i.session.getItem(m) || {};\n      n[s] = e, v(n);\n    }\n    function v(e) {\n      i.session.setItem({\n        key: m,\n        data: e,\n        expires: S(I)\n      });\n    }\n    function M() {\n      a.current = setInterval(function () {\n        if (t.current == null) return;\n        var n = c.current - 1;\n        n <= 0 ? (clearInterval(a.current), E(), l(0)) : (T(n), l(n));\n      }, 5);\n    }\n    function D() {\n      var n = F / 90,\n        d = parseFloat(n.toFixed(2)) * 1e3;\n      a.current = setInterval(function () {\n        if (t.current == null) return;\n        var o = c.current,\n          P = o > 100 - 90 ? 1 : h(o),\n          R = o - P;\n        T(R), l(R);\n      }, d);\n    }\n    function l(e) {\n      c.current = e, W();\n    }\n    function W() {\n      if (t.current == null) return;\n      var e = c.current;\n      t.current.style.width = \"\".concat(e, \"%\"), t.current.ariaValueNow = e;\n    }\n    return r ? u.createElement(\"div\", {\n      className: _(f.progress, N)\n    }, u.createElement(\"div\", {\n      ref: t,\n      role: \"progressbar\",\n      \"aria-valuemin\": 0,\n      \"aria-valuemax\": 100,\n      className: f.bar\n    }), p) : u.createElement(u.Fragment, null, p);\n  };\nexport { j as a };","map":{"version":3,"names":["b","f","a","h","i","B","A","S","m","u","useEffect","C","useMemo","O","useRef","g","_","j","s","id","p","children","r","progress","x","done","expiresIn","I","className","N","y","e","endTime","startTime","n","session","getItem","d","Math","floor","Date","now","o","currentRemaining","totalSeconds","F","w","t","c","M","D","clearInterval","current","E","Boolean","v","T","setItem","key","data","expires","setInterval","l","parseFloat","toFixed","P","R","W","style","width","ariaValueNow","createElement","ref","role","bar","Fragment"],"sources":["/Users/merlea/Development/Crypto/Krogan/dapp-issue/node_modules/@elrondnetwork/dapp-core/__chunks__/chunk-7GYUTNCQ.js"],"sourcesContent":["import{b as f}from\"./chunk-CPSRFBWX.js\";import{a as h}from\"./chunk-4VDFQTIQ.js\";import{a as i,b as B}from\"./chunk-XZ57HGZG.js\";import{a as A}from\"./chunk-ZU6LXEUO.js\";import{a as S}from\"./chunk-VTMJ7INI.js\";import{m as b}from\"./chunk-HBP5N4FR.js\";b();A();import u,{useEffect as C,useMemo as O,useRef as g}from\"react\";import _ from\"classnames\";B();var m=\"toastProgress\",j=({id:s,children:p,progress:r,done:x,expiresIn:I=10*60,className:N=\"dapp-progress\"})=>{let y=O(()=>{let e=r?r.endTime-r.startTime:0,n=i.session.getItem(m),d=Math.floor(Date.now()/1e3),o=r?(r.endTime-d)*100/e:0;return{currentRemaining:n&&s in n?n[s]:o,totalSeconds:e}},[]),{totalSeconds:F,currentRemaining:w}=y,t=g(null),a=g(),c=g(w);C(()=>{if(r!=null)return x?M():D(),()=>{clearInterval(a.current)}},[r,x]);function E(){let e=i.session.getItem(m);!Boolean(e==null?void 0:e[s])||(delete e[s],v(e))}function T(e){let n=i.session.getItem(m)||{};n[s]=e,v(n)}function v(e){i.session.setItem({key:m,data:e,expires:S(I)})}function M(){a.current=setInterval(()=>{if(t.current==null)return;let n=c.current-1;n<=0?(clearInterval(a.current),E(),l(0)):(T(n),l(n))},5)}function D(){let n=F/90,d=parseFloat(n.toFixed(2))*1e3;a.current=setInterval(()=>{if(t.current==null)return;let o=c.current,P=o>100-90?1:h(o),R=o-P;T(R),l(R)},d)}function l(e){c.current=e,W()}function W(){if(t.current==null)return;let e=c.current;t.current.style.width=`${e}%`,t.current.ariaValueNow=e}return r?u.createElement(\"div\",{className:_(f.progress,N)},u.createElement(\"div\",{ref:t,role:\"progressbar\",\"aria-valuemin\":0,\"aria-valuemax\":100,className:f.bar}),p):u.createElement(u.Fragment,null,p)};export{j as a};\n//# sourceMappingURL=chunk-7GYUTNCQ.js.map\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}